/*
* EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011 gskinner.com, inc.
* 
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/function startGame(){Game.scenes[0].start()}this.createjs=this.createjs||{};(function(){var e=function(){throw"UID cannot be instantiated"};e._nextID=0;e.get=function(){return e._nextID++};createjs.UID=e})();this.createjs=this.createjs||{};(function(){var e=function(){this.initialize()},t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener;e.removeEventListener=t.removeEventListener;e.removeAllEventListeners=t.removeAllEventListeners;e.hasEventListener=t.hasEventListener;e.dispatchEvent=t.dispatchEvent};t._listeners=null;t.initialize=function(){};t.addEventListener=function(e,t){var n=this._listeners;n?this.removeEventListener(e,t):n=this._listeners={};var r=n[e];r||(r=n[e]=[]);r.push(t);return t};t.removeEventListener=function(e,t){var n=this._listeners;if(n){var r=n[e];if(r)for(var i=0,s=r.length;i<s;i++)if(r[i]==t){1==s?delete n[e]:r.splice(i,1);break}}};t.removeAllEventListeners=function(e){e?this._listeners&&delete this._listeners[e]:this._listeners=null};t.dispatchEvent=function(e,t){var n=!1,r=this._listeners;if(e&&r){"string"==typeof e&&(e={type:e});r=r[e.type];if(!r)return n;e.target=t||this;for(var r=r.slice(),i=0,s=r.length;i<s;i++)var o=r[i],n=o.handleEvent?n||o.handleEvent(e):n||o(e)}return!!n};t.hasEventListener=function(e){var t=this._listeners;return!!t&&!!t[e]};t.toString=function(){return"[EventDispatcher]"};createjs.EventDispatcher=e})();this.createjs=this.createjs||{};(function(){var e=function(){throw"Ticker cannot be instantiated."};e.useRAF=!1;e.addEventListener=null;e.removeEventListener=null;e.removeAllEventListeners=null;e.dispatchEvent=null;e.hasEventListener=null;e._listeners=null;createjs.EventDispatcher.initialize(e);e._listeners=null;e._pauseable=null;e._paused=!1;e._inited=!1;e._startTime=0;e._pausedTime=0;e._ticks=0;e._pausedTicks=0;e._interval=50;e._lastTime=0;e._times=null;e._tickTimes=null;e._rafActive=!1;e._timeoutID=null;e.addListener=function(t,n){null!=t&&(e.removeListener(t),e._pauseable[e._listeners.length]=null==n?!0:n,e._listeners.push(t))};e.init=function(){e._inited=!0;e._times=[];e._tickTimes=[];e._pauseable=[];e._listeners=[];e._times.push(e._lastTime=e._startTime=e._getTime());e.setInterval(e._interval)};e.removeListener=function(t){var n=e._listeners;n&&(t=n.indexOf(t),-1!=t&&(n.splice(t,1),e._pauseable.splice(t,1)))};e.removeAllListeners=function(){e._listeners=[];e._pauseable=[]};e.setInterval=function(t){e._interval=t;e._inited&&e._setupTick()};e.getInterval=function(){return e._interval};e.setFPS=function(t){e.setInterval(1e3/t)};e.getFPS=function(){return 1e3/e._interval};e.getMeasuredFPS=function(t){if(2>e._times.length)return-1;null==t&&(t=e.getFPS()|0);t=Math.min(e._times.length-1,t);return 1e3/((e._times[0]-e._times[t])/t)};e.setPaused=function(t){e._paused=t};e.getPaused=function(){return e._paused};e.getTime=function(t){return e._getTime()-e._startTime-(t?e._pausedTime:0)};e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)};e._handleAF=function(){e._rafActive=!1;e._setupTick();e._getTime()-e._lastTime>=.97*(e._interval-1)&&e._tick()};e._handleTimeout=function(){e.timeoutID=null;e._setupTick();e._tick()};e._setupTick=function(){if(!e._rafActive&&null==e.timeoutID){if(e.useRAF){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t){t(e._handleAF);e._rafActive=!0;return}}e.timeoutID=setTimeout(e._handleTimeout,e._interval)}};e._tick=function(){var t=e._getTime();e._ticks++;var n=t-e._lastTime,r=e._paused;r&&(e._pausedTicks++,e._pausedTime+=n);e._lastTime=t;for(var i=e._pauseable,s=e._listeners.slice(),o=s?s.length:0,u=0;u<o;u++){var a=s[u];null==a||r&&i[u]||(a.tick?a.tick(n,r):a instanceof Function&&a(n,r))}e.dispatchEvent({type:"tick",paused:r,delta:n,time:t,runTime:t-e._pausedTime});for(e._tickTimes.unshift(e._getTime()-t);100<e._tickTimes.length;)e._tickTimes.pop();for(e._times.unshift(t);100<e._times.length;)e._times.pop()};var t=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);e._getTime=function(){return t&&t.call(performance)||(new Date).getTime()};e.init();createjs.Ticker=e})();this.createjs=this.createjs||{};(function(){var e=function(e,t,n,r,i,s,o,u,a){this.initialize(e,t,n,r,i,s,o,u,a)},t=e.prototype;t.stageX=0;t.stageY=0;t.rawX=0;t.rawY=0;t.type=null;t.nativeEvent=null;t.onMouseMove=null;t.onMouseUp=null;t.target=null;t.pointerID=0;t.primary=!1;t.addEventListener=null;t.removeEventListener=null;t.removeAllEventListeners=null;t.dispatchEvent=null;t.hasEventListener=null;t._listeners=null;createjs.EventDispatcher.initialize(t);t.initialize=function(e,t,n,r,i,s,o,u,a){this.type=e;this.stageX=t;this.stageY=n;this.target=r;this.nativeEvent=i;this.pointerID=s;this.primary=o;this.rawX=null==u?t:u;this.rawY=null==a?n:a};t.clone=function(){return new e(this.type,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};t.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=e})();this.createjs=this.createjs||{};(function(){var e=function(e,t,n,r,i,s){this.initialize(e,t,n,r,i,s)},t=e.prototype;e.identity=null;e.DEG_TO_RAD=Math.PI/180;t.a=1;t.b=0;t.c=0;t.d=1;t.tx=0;t.ty=0;t.alpha=1;t.shadow=null;t.compositeOperation=null;t.initialize=function(e,t,n,r,i,s){null!=e&&(this.a=e);this.b=t||0;this.c=n||0;null!=r&&(this.d=r);this.tx=i||0;this.ty=s||0;return this};t.prepend=function(e,t,n,r,i,s){var o=this.tx;if(1!=e||0!=t||0!=n||1!=r){var u=this.a,a=this.c;this.a=u*e+this.b*n;this.b=u*t+this.b*r;this.c=a*e+this.d*n;this.d=a*t+this.d*r}this.tx=o*e+this.ty*n+i;this.ty=o*t+this.ty*r+s;return this};t.append=function(e,t,n,r,i,s){var o=this.a,u=this.b,a=this.c,f=this.d;this.a=e*o+t*a;this.b=e*u+t*f;this.c=n*o+r*a;this.d=n*u+r*f;this.tx=i*o+s*a+this.tx;this.ty=i*u+s*f+this.ty;return this};t.prependMatrix=function(e){this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty);this.prependProperties(e.alpha,e.shadow,e.compositeOperation);return this};t.appendMatrix=function(e){this.append(e.a,e.b,e.c,e.d,e.tx,e.ty);this.appendProperties(e.alpha,e.shadow,e.compositeOperation);return this};t.prependTransform=function(t,n,r,i,s,o,u,a,f){if(s%360){var l=s*e.DEG_TO_RAD;s=Math.cos(l);l=Math.sin(l)}else s=1,l=0;if(a||f)this.tx-=a,this.ty-=f;o||u?(o*=e.DEG_TO_RAD,u*=e.DEG_TO_RAD,this.prepend(s*r,l*r,-l*i,s*i,0,0),this.prepend(Math.cos(u),Math.sin(u),-Math.sin(o),Math.cos(o),t,n)):this.prepend(s*r,l*r,-l*i,s*i,t,n);return this};t.appendTransform=function(t,n,r,i,s,o,u,a,f){if(s%360){var l=s*e.DEG_TO_RAD;s=Math.cos(l);l=Math.sin(l)}else s=1,l=0;o||u?(o*=e.DEG_TO_RAD,u*=e.DEG_TO_RAD,this.append(Math.cos(u),Math.sin(u),-Math.sin(o),Math.cos(o),t,n),this.append(s*r,l*r,-l*i,s*i,0,0)):this.append(s*r,l*r,-l*i,s*i,t,n);if(a||f)this.tx-=a*this.a+f*this.c,this.ty-=a*this.b+f*this.d;return this};t.rotate=function(e){var t=Math.cos(e);e=Math.sin(e);var n=this.a,r=this.c,i=this.tx;this.a=n*t-this.b*e;this.b=n*e+this.b*t;this.c=r*t-this.d*e;this.d=r*e+this.d*t;this.tx=i*t-this.ty*e;this.ty=i*e+this.ty*t;return this};t.skew=function(t,n){t*=e.DEG_TO_RAD;n*=e.DEG_TO_RAD;this.append(Math.cos(n),Math.sin(n),-Math.sin(t),Math.cos(t),0,0);return this};t.scale=function(e,t){this.a*=e;this.d*=t;this.c*=e;this.b*=t;this.tx*=e;this.ty*=t;return this};t.translate=function(e,t){this.tx+=e;this.ty+=t;return this};t.identity=function(){this.alpha=this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;this.shadow=this.compositeOperation=null;return this};t.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,s=e*r-t*n;this.a=r/s;this.b=-t/s;this.c=-n/s;this.d=e/s;this.tx=(n*this.ty-r*i)/s;this.ty=-(e*this.ty-t*i)/s;return this};t.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d};t.decompose=function(t){null==t&&(t={});t.x=this.tx;t.y=this.ty;t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),r=Math.atan2(this.b,this.a);n==r?(t.rotation=r/e.DEG_TO_RAD,0>this.a&&0<=this.d&&(t.rotation+=0>=t.rotation?180:-180),t.skewX=t.skewY=0):(t.skewX=n/e.DEG_TO_RAD,t.skewY=r/e.DEG_TO_RAD);return t};t.reinitialize=function(e,t,n,r,i,s,o,u,a){this.initialize(e,t,n,r,i,s);this.alpha=o||1;this.shadow=u;this.compositeOperation=a;return this};t.appendProperties=function(e,t,n){this.alpha*=e;this.shadow=t||this.shadow;this.compositeOperation=n||this.compositeOperation;return this};t.prependProperties=function(e,t,n){this.alpha*=e;this.shadow=this.shadow||t;this.compositeOperation=this.compositeOperation||n;return this};t.clone=function(){var t=new e(this.a,this.b,this.c,this.d,this.tx,this.ty);t.shadow=this.shadow;t.alpha=this.alpha;t.compositeOperation=this.compositeOperation;return t};t.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};e.identity=new e(1,0,0,1,0,0);createjs.Matrix2D=e})();this.createjs=this.createjs||{};(function(){var e=function(e,t){this.initialize(e,t)},t=e.prototype;t.x=0;t.y=0;t.initialize=function(e,t){this.x=null==e?0:e;this.y=null==t?0:t};t.clone=function(){return new e(this.x,this.y)};t.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=e})();this.createjs=this.createjs||{};(function(){var e=function(e,t,n,r){this.initialize(e,t,n,r)},t=e.prototype;t.x=0;t.y=0;t.width=0;t.height=0;t.initialize=function(e,t,n,r){this.x=null==e?0:e;this.y=null==t?0:t;this.width=null==n?0:n;this.height=null==r?0:r};t.clone=function(){return new e(this.x,this.y,this.width,this.height)};t.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=e})();this.createjs=this.createjs||{};(function(){var e=function(e,t,n,r,i,s,o){this.initialize(e,t,n,r,i,s,o)},t=e.prototype;t.target=null;t.overLabel=null;t.outLabel=null;t.downLabel=null;t.play=!1;t._isPressed=!1;t._isOver=!1;t.initialize=function(e,t,n,r,i,s,o){e.addEventListener&&(this.target=e,e.cursor="pointer",this.overLabel=null==n?"over":n,this.outLabel=null==t?"out":t,this.downLabel=null==r?"down":r,this.play=i,this.setEnabled(!0),this.handleEvent({}),s&&(o&&(s.actionsEnabled=!1,s.gotoAndStop&&s.gotoAndStop(o)),e.hitArea=s))};t.setEnabled=function(e){var t=this.target;e?(t.addEventListener("mouseover",this),t.addEventListener("mouseout",this),t.addEventListener("mousedown",this)):(t.removeEventListener("mouseover",this),t.removeEventListener("mouseout",this),t.removeEventListener("mousedown",this))};t.toString=function(){return"[ButtonHelper]"};t.handleEvent=function(e){var t=this.target,n=e.type;"mousedown"==n?(e.addEventListener("mouseup",this),this._isPressed=!0,e=this.downLabel):"mouseup"==n?(this._isPressed=!1,e=this._isOver?this.overLabel:this.outLabel):"mouseover"==n?(this._isOver=!0,e=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,e=this._isPressed?this.overLabel:this.outLabel);this.play?t.gotoAndPlay&&t.gotoAndPlay(e):t.gotoAndStop&&t.gotoAndStop(e)};createjs.ButtonHelper=e})();this.createjs=this.createjs||{};(function(){var e=function(e,t,n,r){this.initialize(e,t,n,r)},t=e.prototype;e.identity=null;t.color=null;t.offsetX=0;t.offsetY=0;t.blur=0;t.initialize=function(e,t,n,r){this.color=e;this.offsetX=t;this.offsetY=n;this.blur=r};t.toString=function(){return"[Shadow]"};t.clone=function(){return new e(this.color,this.offsetX,this.offsetY,this.blur)};e.identity=new e("transparent",0,0,0);createjs.Shadow=e})();this.createjs=this.createjs||{};(function(){var e=function(e){this.initialize(e)},t=e.prototype;t.complete=!0;t.onComplete=null;t.addEventListener=null;t.removeEventListener=null;t.removeAllEventListeners=null;t.dispatchEvent=null;t.hasEventListener=null;t._listeners=null;createjs.EventDispatcher.initialize(t);t._animations=null;t._frames=null;t._images=null;t._data=null;t._loadCount=0;t._frameHeight=0;t._frameWidth=0;t._numFrames=0;t._regX=0;t._regY=0;t.initialize=function(e){var t,n,r;if(null!=e){if(e.images&&0<(n=e.images.length)){r=this._images=[];for(t=0;t<n;t++){var i=e.images[t];if("string"==typeof i){var s=i,i=new Image;i.src=s}r.push(i);!i.getContext&&!i.complete&&(this._loadCount++,this.complete=!1,function(e){i.onload=function(){e._handleImageLoad()}}(this))}}if(null!=e.frames)if(e.frames instanceof Array){this._frames=[];r=e.frames;t=0;for(n=r.length;t<n;t++)s=r[t],this._frames.push({image:this._images[s[4]?s[4]:0],rect:new createjs.Rectangle(s[0],s[1],s[2],s[3]),regX:s[5]||0,regY:s[6]||0})}else n=e.frames,this._frameWidth=n.width,this._frameHeight=n.height,this._regX=n.regX||0,this._regY=n.regY||0,this._numFrames=n.count,0==this._loadCount&&this._calculateFrames();if(null!=(n=e.animations)){this._animations=[];this._data={};for(var o in n){e={name:o};s=n[o];if("number"==typeof s)r=e.frames=[s];else if(s instanceof Array)if(1==s.length)e.frames=[s[0]];else{e.frequency=s[3];e.next=s[2];r=e.frames=[];for(t=s[0];t<=s[1];t++)r.push(t)}else e.frequency=s.frequency,e.next=s.next,t=s.frames,r=e.frames="number"==typeof t?[t]:t.slice(0);e.next=2>r.length||0==e.next?null:null==e.next||1==e.next?o:e.next;e.frequency||(e.frequency=1);this._animations.push(o);this._data[o]=e}}}};t.getNumFrames=function(e){if(null==e)return this._frames?this._frames.length:this._numFrames;e=this._data[e];return null==e?0:e.frames.length};t.getAnimations=function(){return this._animations.slice(0)};t.getAnimation=function(e){return this._data[e]};t.getFrame=function(e){var t;return this.complete&&this._frames&&(t=this._frames[e])?t:null};t.getFrameBounds=function(e){return(e=this.getFrame(e))?new createjs.Rectangle(-e.regX,-e.regY,e.rect.width,e.rect.height):null};t.toString=function(){return"[SpriteSheet]"};t.clone=function(){var t=new e;t.complete=this.complete;t._animations=this._animations;t._frames=this._frames;t._images=this._images;t._data=this._data;t._frameHeight=this._frameHeight;t._frameWidth=this._frameWidth;t._numFrames=this._numFrames;t._loadCount=this._loadCount;return t};t._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.onComplete&&this.onComplete(),this.dispatchEvent("complete"))};t._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];for(var e=0,t=this._frameWidth,n=this._frameHeight,r=0,i=this._images;r<i.length;r++){for(var s=i[r],o=(s.width+1)/t|0,u=(s.height+1)/n|0,u=0<this._numFrames?Math.min(this._numFrames-e,o*u):o*u,a=0;a<u;a++)this._frames.push({image:s,rect:new createjs.Rectangle(a%o*t,(a/o|0)*n,t,n),regX:this._regX,regY:this._regY});e+=u}this._numFrames=e}};createjs.SpriteSheet=e})();this.createjs=this.createjs||{};(function(){function e(e,t,n){this.f=e;this.params=t;this.path=null==n?!0:n}e.prototype.exec=function(e){this.f.apply(e,this.params)};var t=function(){this.initialize()},n=t.prototype;t.getRGB=function(e,t,n,r){null!=e&&null==n&&(r=t,n=e&255,t=e>>8&255,e=e>>16&255);return null==r?"rgb("+e+","+t+","+n+")":"rgba("+e+","+t+","+n+","+r+")"};t.getHSL=function(e,t,n,r){return null==r?"hsl("+e%360+","+t+"%,"+n+"%)":"hsla("+e%360+","+t+"%,"+n+"%,"+r+")"};t.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};t.STROKE_CAPS_MAP=["butt","round","square"];t.STROKE_JOINTS_MAP=["miter","round","bevel"];t._ctx=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d");t.beginCmd=new e(t._ctx.beginPath,[],!1);t.fillCmd=new e(t._ctx.fill,[],!1);t.strokeCmd=new e(t._ctx.stroke,[],!1);n._strokeInstructions=null;n._strokeStyleInstructions=null;n._ignoreScaleStroke=!1;n._fillInstructions=null;n._instructions=null;n._oldInstructions=null;n._activeInstructions=null;n._active=!1;n._dirty=!1;n.initialize=function(){this.clear();this._ctx=t._ctx};n.isEmpty=function(){return!(this._instructions.length||this._oldInstructions.length||this._activeInstructions.length)};n.draw=function(e){this._dirty&&this._updateInstructions();for(var t=this._instructions,n=0,r=t.length;n<r;n++)t[n].exec(e)};n.drawAsPath=function(e){this._dirty&&this._updateInstructions();for(var t,n=this._instructions,r=0,i=n.length;r<i;r++)((t=n[r]).path||0==r)&&t.exec(e)};n.moveTo=function(t,n){this._activeInstructions.push(new e(this._ctx.moveTo,[t,n]));return this};n.lineTo=function(t,n){this._dirty=this._active=!0;this._activeInstructions.push(new e(this._ctx.lineTo,[t,n]));return this};n.arcTo=function(t,n,r,i,s){this._dirty=this._active=!0;this._activeInstructions.push(new e(this._ctx.arcTo,[t,n,r,i,s]));return this};n.arc=function(t,n,r,i,s,o){this._dirty=this._active=!0;null==o&&(o=!1);this._activeInstructions.push(new e(this._ctx.arc,[t,n,r,i,s,o]));return this};n.quadraticCurveTo=function(t,n,r,i){this._dirty=this._active=!0;this._activeInstructions.push(new e(this._ctx.quadraticCurveTo,[t,n,r,i]));return this};n.bezierCurveTo=function(t,n,r,i,s,o){this._dirty=this._active=!0;this._activeInstructions.push(new e(this._ctx.bezierCurveTo,[t,n,r,i,s,o]));return this};n.rect=function(t,n,r,i){this._dirty=this._active=!0;this._activeInstructions.push(new e(this._ctx.rect,[t,n,r,i]));return this};n.closePath=function(){this._active&&(this._dirty=!0,this._activeInstructions.push(new e(this._ctx.closePath,[])));return this};n.clear=function(){this._instructions=[];this._oldInstructions=[];this._activeInstructions=[];this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=null;this._active=this._dirty=!1;return this};n.beginFill=function(n){this._active&&this._newPath();this._fillInstructions=n?[new e(this._setProp,["fillStyle",n],!1),t.fillCmd]:null;return this};n.beginLinearGradientFill=function(n,r,i,s,o,u){this._active&&this._newPath();i=this._ctx.createLinearGradient(i,s,o,u);s=0;for(o=n.length;s<o;s++)i.addColorStop(r[s],n[s]);this._fillInstructions=[new e(this._setProp,["fillStyle",i],!1),t.fillCmd];return this};n.beginRadialGradientFill=function(n,r,i,s,o,u,f,l){this._active&&this._newPath();i=this._ctx.createRadialGradient(i,s,o,u,f,l);s=0;for(o=n.length;s<o;s++)i.addColorStop(r[s],n[s]);this._fillInstructions=[new e(this._setProp,["fillStyle",i],!1),t.fillCmd];return this};n.beginBitmapFill=function(n,r,i){this._active&&this._newPath();n=this._ctx.createPattern(n,r||"");n=new e(this._setProp,["fillStyle",n],!1);this._fillInstructions=i?[n,new e(this._ctx.save,[],!1),new e(this._ctx.transform,[i.a,i.b,i.c,i.d,i.tx,i.ty],!1),t.fillCmd,new e(this._ctx.restore,[],!1)]:[n,t.fillCmd];return this};n.endFill=function(){return this.beginFill()};n.setStrokeStyle=function(n,r,i,s,o){this._active&&this._newPath();this._strokeStyleInstructions=[new e(this._setProp,["lineWidth",null==n?"1":n],!1),new e(this._setProp,["lineCap",null==r?"butt":isNaN(r)?r:t.STROKE_CAPS_MAP[r]],!1),new e(this._setProp,["lineJoin",null==i?"miter":isNaN(i)?i:t.STROKE_JOINTS_MAP[i]],!1),new e(this._setProp,["miterLimit",null==s?"10":s],!1)];this._ignoreScaleStroke=o;return this};n.beginStroke=function(t){this._active&&this._newPath();this._strokeInstructions=t?[new e(this._setProp,["strokeStyle",t],!1)]:null;return this};n.beginLinearGradientStroke=function(t,n,r,i,s,o){this._active&&this._newPath();r=this._ctx.createLinearGradient(r,i,s,o);i=0;for(s=t.length;i<s;i++)r.addColorStop(n[i],t[i]);this._strokeInstructions=[new e(this._setProp,["strokeStyle",r],!1)];return this};n.beginRadialGradientStroke=function(t,n,r,i,s,o,u,a){this._active&&this._newPath();r=this._ctx.createRadialGradient(r,i,s,o,u,a);i=0;for(s=t.length;i<s;i++)r.addColorStop(n[i],t[i]);this._strokeInstructions=[new e(this._setProp,["strokeStyle",r],!1)];return this};n.beginBitmapStroke=function(t,n){this._active&&this._newPath();var r=this._ctx.createPattern(t,n||"");this._strokeInstructions=[new e(this._setProp,["strokeStyle",r],!1)];return this};n.endStroke=function(){this.beginStroke();return this};n.curveTo=n.quadraticCurveTo;n.drawRect=n.rect;n.drawRoundRect=function(e,t,n,r,i){this.drawRoundRectComplex(e,t,n,r,i,i,i,i);return this};n.drawRoundRectComplex=function(t,n,r,i,s,o,u,a){var f=(r<i?r:i)/2,l=0,h=0,p=0,d=0;0>s&&(s*=l=-1);s>f&&(s=f);0>o&&(o*=h=-1);o>f&&(o=f);0>u&&(u*=p=-1);u>f&&(u=f);0>a&&(a*=d=-1);a>f&&(a=f);this._dirty=this._active=!0;var f=this._ctx.arcTo,v=this._ctx.lineTo;this._activeInstructions.push(new e(this._ctx.moveTo,[t+r-o,n]),new e(f,[t+r+o*h,n-o*h,t+r,n+o,o]),new e(v,[t+r,n+i-u]),new e(f,[t+r+u*p,n+i+u*p,t+r-u,n+i,u]),new e(v,[t+a,n+i]),new e(f,[t-a*d,n+i+a*d,t,n+i-a,a]),new e(v,[t,n+s]),new e(f,[t-s*l,n-s*l,t+s,n,s]),new e(this._ctx.closePath));return this};n.drawCircle=function(e,t,n){this.arc(e,t,n,0,2*Math.PI);return this};n.drawEllipse=function(t,n,r,i){this._dirty=this._active=!0;var s=.5522848*(r/2),o=.5522848*(i/2),u=t+r,a=n+i;r=t+r/2;i=n+i/2;this._activeInstructions.push(new e(this._ctx.moveTo,[t,i]),new e(this._ctx.bezierCurveTo,[t,i-o,r-s,n,r,n]),new e(this._ctx.bezierCurveTo,[r+s,n,u,i-o,u,i]),new e(this._ctx.bezierCurveTo,[u,i+o,r+s,a,r,a]),new e(this._ctx.bezierCurveTo,[r-s,a,t,i+o,t,i]));return this};n.drawPolyStar=function(t,n,r,i,s,o){this._dirty=this._active=!0;null==s&&(s=0);s=1-s;o=null==o?0:o/(180/Math.PI);var u=Math.PI/i;this._activeInstructions.push(new e(this._ctx.moveTo,[t+Math.cos(o)*r,n+Math.sin(o)*r]));for(var a=0;a<i;a++)o+=u,1!=s&&this._activeInstructions.push(new e(this._ctx.lineTo,[t+Math.cos(o)*r*s,n+Math.sin(o)*r*s])),o+=u,this._activeInstructions.push(new e(this._ctx.lineTo,[t+Math.cos(o)*r,n+Math.sin(o)*r]));return this};n.decodePath=function(e){for(var n=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],r=[2,2,4,6,0],i=0,s=e.length,o=[],u=0,f=0,l=t.BASE_64;i<s;){var c=e.charAt(i),h=l[c],p=h>>3,d=n[p];if(!d||h&3)throw"bad path data (@"+i+"): "+c;c=r[p];p||(u=f=0);o.length=0;i++;h=(h>>2&1)+2;for(p=0;p<c;p++){var v=l[e.charAt(i)],m=v>>5?-1:1,v=(v&31)<<6|l[e.charAt(i+1)];3==h&&(v=v<<6|l[e.charAt(i+2)]);v=m*v/10;p%2?u=v+=u:f=v+=f;o[p]=v;i+=h}d.apply(this,o)}return this};n.clone=function(){var e=new t;e._instructions=this._instructions.slice();e._activeInstructions=this._activeInstructions.slice();e._oldInstructions=this._oldInstructions.slice();this._fillInstructions&&(e._fillInstructions=this._fillInstructions.slice());this._strokeInstructions&&(e._strokeInstructions=this._strokeInstructions.slice());this._strokeStyleInstructions&&(e._strokeStyleInstructions=this._strokeStyleInstructions.slice());e._active=this._active;e._dirty=this._dirty;return e};n.toString=function(){return"[Graphics]"};n.mt=n.moveTo;n.lt=n.lineTo;n.at=n.arcTo;n.bt=n.bezierCurveTo;n.qt=n.quadraticCurveTo;n.a=n.arc;n.r=n.rect;n.cp=n.closePath;n.c=n.clear;n.f=n.beginFill;n.lf=n.beginLinearGradientFill;n.rf=n.beginRadialGradientFill;n.bf=n.beginBitmapFill;n.ef=n.endFill;n.ss=n.setStrokeStyle;n.s=n.beginStroke;n.ls=n.beginLinearGradientStroke;n.rs=n.beginRadialGradientStroke;n.bs=n.beginBitmapStroke;n.es=n.endStroke;n.dr=n.drawRect;n.rr=n.drawRoundRect;n.rc=n.drawRoundRectComplex;n.dc=n.drawCircle;n.de=n.drawEllipse;n.dp=n.drawPolyStar;n.p=n.decodePath;n._updateInstructions=function(){this._instructions=this._oldInstructions.slice();this._instructions.push(t.beginCmd);this._instructions.push.apply(this._instructions,this._activeInstructions);this._fillInstructions&&this._instructions.push.apply(this._instructions,this._fillInstructions);this._strokeInstructions&&(this._strokeStyleInstructions&&this._instructions.push.apply(this._instructions,this._strokeStyleInstructions),this._instructions.push.apply(this._instructions,this._strokeInstructions),this._ignoreScaleStroke?this._instructions.push(new e(this._ctx.save,[],!1),new e(this._ctx.setTransform,[1,0,0,1,0,0],!1),t.strokeCmd,new e(this._ctx.restore,[],!1)):this._instructions.push(t.strokeCmd))};n._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=this._instructions;this._activeInstructions=[];this._active=this._dirty=!1};n._setProp=function(e,t){this[e]=t};createjs.Graphics=t})();this.createjs=this.createjs||{};(function(){var e=function(){this.initialize()},t=e.prototype;e.suppressCrossDomainErrors=!1;e._hitTestCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");e._hitTestCanvas.width=e._hitTestCanvas.height=1;e._hitTestContext=e._hitTestCanvas.getContext("2d");e._nextCacheID=1;t.alpha=1;t.cacheCanvas=null;t.id=-1;t.mouseEnabled=!0;t.name=null;t.parent=null;t.regX=0;t.regY=0;t.rotation=0;t.scaleX=1;t.scaleY=1;t.skewX=0;t.skewY=0;t.shadow=null;t.visible=!0;t.x=0;t.y=0;t.compositeOperation=null;t.snapToPixel=!1;t.onPress=null;t.onClick=null;t.onDoubleClick=null;t.onMouseOver=null;t.onMouseOut=null;t.onTick=null;t.filters=null;t.cacheID=0;t.mask=null;t.hitArea=null;t.cursor=null;t.addEventListener=null;t.removeEventListener=null;t.removeAllEventListeners=null;t.dispatchEvent=null;t.hasEventListener=null;t._listeners=null;createjs.EventDispatcher.initialize(t);t._cacheOffsetX=0;t._cacheOffsetY=0;t._cacheScale=1;t._cacheDataURLID=0;t._cacheDataURL=null;t._matrix=null;t.initialize=function(){this.id=createjs.UID.get();this._matrix=new createjs.Matrix2D};t.isVisible=function(){return!!this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY};t.draw=function(e,t){var n=this.cacheCanvas;if(t||!n)return!1;var r=this._cacheScale;e.drawImage(n,this._cacheOffsetX,this._cacheOffsetY,n.width/r,n.height/r);return!0};t.updateContext=function(e){var t,n=this.mask;n&&n.graphics&&!n.graphics.isEmpty()&&(t=n.getMatrix(n._matrix),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty),n.graphics.drawAsPath(e),e.clip(),t.invert(),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty));t=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY);createjs.Stage._snapToPixelEnabled&&this.snapToPixel?e.transform(t.a,t.b,t.c,t.d,t.tx+.5|0,t.ty+.5|0):e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty);e.globalAlpha*=this.alpha;this.compositeOperation&&(e.globalCompositeOperation=this.compositeOperation);this.shadow&&this._applyShadow(e,this.shadow)};t.cache=function(e,t,n,r,i){i=i||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this.cacheCanvas.width=Math.ceil(n*i);this.cacheCanvas.height=Math.ceil(r*i);this._cacheOffsetX=e;this._cacheOffsetY=t;this._cacheScale=i||1;this.updateCache()};t.updateCache=function(t){var n=this.cacheCanvas,r=this._cacheScale,i=this._cacheOffsetX*r,s=this._cacheOffsetY*r;if(!n)throw"cache() must be called before updateCache()";var o=n.getContext("2d");o.save();t||o.clearRect(0,0,n.width+1,n.height+1);o.globalCompositeOperation=t;o.setTransform(r,0,0,r,-i,-s);this.draw(o,!0);this._applyFilters();o.restore();this.cacheID=e._nextCacheID++};t.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0;this._cacheScale=1};t.getCacheDataURL=function(){if(!this.cacheCanvas)return null;this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL());return this._cacheDataURL};t.getStage=function(){for(var e=this;e.parent;)e=e.parent;return e instanceof createjs.Stage?e:null};t.localToGlobal=function(e,t){var n=this.getConcatenatedMatrix(this._matrix);if(null==n)return null;n.append(1,0,0,1,e,t);return new createjs.Point(n.tx,n.ty)};t.globalToLocal=function(e,t){var n=this.getConcatenatedMatrix(this._matrix);if(null==n)return null;n.invert();n.append(1,0,0,1,e,t);return new createjs.Point(n.tx,n.ty)};t.localToLocal=function(e,t,n){e=this.localToGlobal(e,t);return n.globalToLocal(e.x,e.y)};t.setTransform=function(e,t,n,r,i,s,o,u,a){this.x=e||0;this.y=t||0;this.scaleX=null==n?1:n;this.scaleY=null==r?1:r;this.rotation=i||0;this.skewX=s||0;this.skewY=o||0;this.regX=u||0;this.regY=a||0;return this};t.getMatrix=function(e){return(e?e.identity():new createjs.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,this.shadow,this.compositeOperation)};t.getConcatenatedMatrix=function(e){e?e.identity():e=new createjs.Matrix2D;for(var t=this;null!=t;)e.prependTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY).prependProperties(t.alpha,t.shadow,t.compositeOperation),t=t.parent;return e};t.hitTest=function(t,n){var r=e._hitTestContext;r.setTransform(1,0,0,1,-t,-n);this.draw(r);var i=this._testHit(r);r.setTransform(1,0,0,1,0,0);r.clearRect(0,0,2,2);return i};t.set=function(e){for(var t in e)this[t]=e[t];return this};t.clone=function(){var t=new e;this.cloneProps(t);return t};t.toString=function(){return"[DisplayObject (name="+this.name+")]"};t.cloneProps=function(e){e.alpha=this.alpha;e.name=this.name;e.regX=this.regX;e.regY=this.regY;e.rotation=this.rotation;e.scaleX=this.scaleX;e.scaleY=this.scaleY;e.shadow=this.shadow;e.skewX=this.skewX;e.skewY=this.skewY;e.visible=this.visible;e.x=this.x;e.y=this.y;e.mouseEnabled=this.mouseEnabled;e.compositeOperation=this.compositeOperation;this.cacheCanvas&&(e.cacheCanvas=this.cacheCanvas.cloneNode(!0),e.cacheCanvas.getContext("2d").putImageData(this.cacheCanvas.getContext("2d").getImageData(0,0,this.cacheCanvas.width,this.cacheCanvas.height),0,0))};t._applyShadow=function(e,t){t=t||Shadow.identity;e.shadowColor=t.color;e.shadowOffsetX=t.offsetX;e.shadowOffsetY=t.offsetY;e.shadowBlur=t.blur};t._tick=function(e){this.onTick&&this.onTick.apply(this,e);var t=this._listeners;t&&t.tick&&this.dispatchEvent({type:"tick",params:e})};t._testHit=function(t){try{var n=1<t.getImageData(0,0,1,1).data[3]}catch(r){if(!e.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return n};t._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var e=this.filters.length,t=this.cacheCanvas.getContext("2d"),n=this.cacheCanvas.width,r=this.cacheCanvas.height,i=0;i<e;i++)this.filters[i].applyFilter(t,0,0,n,r)};t._hasMouseHandler=function(e){var t=this._listeners;return!!(e&1&&(this.onPress||this.onClick||this.onDoubleClick||t&&(this.hasEventListener("mousedown")||this.hasEventListener("click")||this.hasEventListener("dblclick")))||e&2&&(this.onMouseOver||this.onMouseOut||this.cursor||t&&(this.hasEventListener("mouseover")||this.hasEventListener("mouseout"))))};createjs.DisplayObject=e})();this.createjs=this.createjs||{};(function(){var e=function(){this.initialize()},t=e.prototype=new createjs.DisplayObject;t.children=null;t.DisplayObject_initialize=t.initialize;t.initialize=function(){this.DisplayObject_initialize();this.children=[]};t.isVisible=function(){var e=this.cacheCanvas||this.children.length;return!!this.visible&&!!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)};t.DisplayObject_draw=t.draw;t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;for(var n=this.children.slice(0),r=0,i=n.length;r<i;r++){var s=n[r];s.isVisible()&&(e.save(),s.updateContext(e),s.draw(e),e.restore())}return!0};t.addChild=function(e){if(null==e)return e;var t=arguments.length;if(1<t){for(var n=0;n<t;n++)this.addChild(arguments[n]);return arguments[t-1]}e.parent&&e.parent.removeChild(e);e.parent=this;this.children.push(e);return e};t.addChildAt=function(e,t){var n=arguments.length,r=arguments[n-1];if(0>r||r>this.children.length)return arguments[n-2];if(2<n){for(var i=0;i<n-1;i++)this.addChildAt(arguments[i],r+i);return arguments[n-2]}e.parent&&e.parent.removeChild(e);e.parent=this;this.children.splice(t,0,e);return e};t.removeChild=function(e){var t=arguments.length;if(1<t){for(var n=!0,r=0;r<t;r++)n=n&&this.removeChild(arguments[r]);return n}return this.removeChildAt(this.children.indexOf(e))};t.removeChildAt=function(e){var t=arguments.length;if(1<t){for(var n=[],r=0;r<t;r++)n[r]=arguments[r];n.sort(function(e,t){return t-e});for(var i=!0,r=0;r<t;r++)i=i&&this.removeChildAt(n[r]);return i}if(0>e||e>this.children.length-1)return!1;if(t=this.children[e])t.parent=null;this.children.splice(e,1);return!0};t.removeAllChildren=function(){for(var e=this.children;e.length;)e.pop().parent=null};t.getChildAt=function(e){return this.children
[e]};t.getChildByName=function(e){for(var t=this.children,n=0,r=t.length;n<r;n++)if(t[n].name==e)return t[n];return null};t.sortChildren=function(e){this.children.sort(e)};t.getChildIndex=function(e){return this.children.indexOf(e)};t.getNumChildren=function(){return this.children.length};t.swapChildrenAt=function(e,t){var n=this.children,r=n[e],i=n[t];r&&i&&(n[e]=i,n[t]=r)};t.swapChildren=function(e,t){for(var n=this.children,r,i,s=0,o=n.length;s<o&&(n[s]==e&&(r=s),n[s]==t&&(i=s),null==r||null==i);s++);s!=o&&(n[r]=t,n[i]=e)};t.setChildIndex=function(e,t){var n=this.children,r=n.length;if(!(e.parent!=this||0>t||t>=r)){for(var i=0;i<r&&n[i]!=e;i++);i==r||i==t||(n.splice(i,1),t<i&&t--,n.splice(t,0,e))}};t.contains=function(e){for(;e;){if(e==this)return!0;e=e.parent}return!1};t.hitTest=function(e,t){return null!=this.getObjectUnderPoint(e,t)};t.getObjectsUnderPoint=function(e,t){var n=[],r=this.localToGlobal(e,t);this._getObjectsUnderPoint(r.x,r.y,n);return n};t.getObjectUnderPoint=function(e,t){var n=this.localToGlobal(e,t);return this._getObjectsUnderPoint(n.x,n.y)};t.clone=function(t){var n=new e;this.cloneProps(n);if(t)for(var r=n.children=[],i=0,s=this.children.length;i<s;i++){var o=this.children[i].clone(t);o.parent=n;r.push(o)}return n};t.toString=function(){return"[Container (name="+this.name+")]"};t.DisplayObject__tick=t._tick;t._tick=function(e){for(var t=this.children.length-1;0<=t;t--){var n=this.children[t];n._tick&&n._tick(e)}this.DisplayObject__tick(e)};t._getObjectsUnderPoint=function(t,n,r,i){var s=createjs.DisplayObject._hitTestContext,o=this._matrix,u=this._hasMouseHandler(i);if(!this.hitArea&&this.cacheCanvas&&u&&(this.getConcatenatedMatrix(o),s.setTransform(o.a,o.b,o.c,o.d,o.tx-t,o.ty-n),s.globalAlpha=o.alpha,this.draw(s),this._testHit(s)))return s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,2,2),this;for(var a=this.children.length-1;0<=a;a--){var f=this.children[a],l=f.hitArea;if(f.visible&&!(!l&&!f.isVisible()||i&&!f.mouseEnabled)){var h=i&&f._hasMouseHandler(i);if(f instanceof e&&(!l||!h)){if(u){if(f=f._getObjectsUnderPoint(t,n))return this}else if(f=f._getObjectsUnderPoint(t,n,r,i),!r&&f)return f}else if(!i||u||h)if(f.getConcatenatedMatrix(o),l&&(o.appendTransform(l.x,l.y,l.scaleX,l.scaleY,l.rotation,l.skewX,l.skewY,l.regX,l.regY),o.alpha=l.alpha),s.globalAlpha=o.alpha,s.setTransform(o.a,o.b,o.c,o.d,o.tx-t,o.ty-n),(l||f).draw(s),this._testHit(s)){s.setTransform(1,0,0,1,0,0);s.clearRect(0,0,2,2);if(u)return this;if(!r)return f;r.push(f)}}}return null};createjs.Container=e})();this.createjs=this.createjs||{};(function(){var e=function(e){this.initialize(e)},t=e.prototype=new createjs.Container;e._snapToPixelEnabled=!1;t.autoClear=!0;t.canvas=null;t.mouseX=0;t.mouseY=0;t.onMouseMove=null;t.onMouseUp=null;t.onMouseDown=null;t.snapToPixelEnabled=!1;t.mouseInBounds=!1;t.tickOnUpdate=!0;t.mouseMoveOutside=!1;t._pointerData=null;t._pointerCount=0;t._primaryPointerID=null;t._mouseOverIntervalID=null;t.Container_initialize=t.initialize;t.initialize=function(e){this.Container_initialize();this.canvas="string"==typeof e?document.getElementById(e):e;this._pointerData={};this.enableDOMEvents(!0)};t.update=function(){if(this.canvas){this.autoClear&&this.clear();e._snapToPixelEnabled=this.snapToPixelEnabled;this.tickOnUpdate&&this._tick(arguments.length?arguments:null);var t=this.canvas.getContext("2d");t.save();this.updateContext(t);this.draw(t,!1);t.restore()}};t.tick=t.update;t.handleEvent=function(e){"tick"==e.type&&this.update(e)};t.clear=function(){if(this.canvas){var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0);e.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};t.toDataURL=function(e,t){t||(t="image/png");var n=this.canvas.getContext("2d"),r=this.canvas.width,i=this.canvas.height,s;if(e){s=n.getImageData(0,0,r,i);var o=n.globalCompositeOperation;n.globalCompositeOperation="destination-over";n.fillStyle=e;n.fillRect(0,0,r,i)}var u=this.canvas.toDataURL(t);e&&(n.clearRect(0,0,r+1,i+1),n.putImageData(s,0,0),n.globalCompositeOperation=o);return u};t.enableMouseOver=function(e){this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null);if(null==e)e=20;else if(0>=e)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,e))};t.enableDOMEvents=function(e){null==e&&(e=!0);var t,n=this._eventListeners;if(!e&&n){for(t in n)e=n[t],e.t.removeEventListener(t,e.f);this._eventListeners=null}else if(e&&!n&&this.canvas){e=window.addEventListener?window:document;var r=this,n=this._eventListeners={};n.mouseup={t:e,f:function(e){r._handleMouseUp(e)}};n.mousemove={t:e,f:function(e){r._handleMouseMove(e)}};n.dblclick={t:e,f:function(e){r._handleDoubleClick(e)}};n.mousedown={t:this.canvas,f:function(e){r._handleMouseDown(e)}};for(t in n)e=n[t],e.t.addEventListener(t,e.f)}};t.clone=function(){var t=new e(null);this.cloneProps(t);return t};t.toString=function(){return"[Stage (name="+this.name+")]"};t._getPointerData=function(e){var t=this._pointerData[e];!t&&(t=this._pointerData[e]={x:0,y:0},null==this._primaryPointerID||-1==this._primaryPointerID)&&(this._primaryPointerID=e);return t};t._handleMouseMove=function(e){e||(e=window.event);this._handlePointerMove(-1,e,e.pageX,e.pageY)};t._handlePointerMove=function(e,t,n,r){if(this.canvas){var i=this._getPointerData(e),s=i.inBounds;this._updatePointerPosition(e,n,r);if(s||i.inBounds||this.mouseMoveOutside){if(this.onMouseMove||this.hasEventListener("stagemousemove"))n=new createjs.MouseEvent("stagemousemove",i.x,i.y,this,t,e,e==this._primaryPointerID,i.rawX,i.rawY),this.onMouseMove&&this.onMouseMove(n),this.dispatchEvent(n);(r=i.event)&&(r.onMouseMove||r.hasEventListener("mousemove"))&&(n=new createjs.MouseEvent("mousemove",i.x,i.y,r.target,t,e,e==this._primaryPointerID,i.rawX,i.rawY),r.onMouseMove&&r.onMouseMove(n),r.dispatchEvent(n,r.target))}}};t._updatePointerPosition=function(e,t,n){var r=this._getElementRect(this.canvas);t-=r.left;n-=r.top;var i=this.canvas.width,s=this.canvas.height;t/=(r.right-r.left)/i;n/=(r.bottom-r.top)/s;r=this._getPointerData(e);(r.inBounds=0<=t&&0<=n&&t<=i-1&&n<=s-1)?(r.x=t,r.y=n):this.mouseMoveOutside&&(r.x=0>t?0:t>i-1?i-1:t,r.y=0>n?0:n>s-1?s-1:n);r.rawX=t;r.rawY=n;e==this._primaryPointerID&&(this.mouseX=r.x,this.mouseY=r.y,this.mouseInBounds=r.inBounds)};t._getElementRect=function(e){var t;try{t=e.getBoundingClientRect()}catch(n){t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var r=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),i=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),s=window.getComputedStyle?getComputedStyle(e):e.currentStyle;e=parseInt(s.paddingLeft)+parseInt(s.borderLeftWidth);var o=parseInt(s.paddingTop)+parseInt(s.borderTopWidth),u=parseInt(s.paddingRight)+parseInt(s.borderRightWidth),s=parseInt(s.paddingBottom)+parseInt(s.borderBottomWidth);return{left:t.left+r+e,right:t.right+r-u,top:t.top+i+o,bottom:t.bottom+i-s}};t._handleMouseUp=function(e){this._handlePointerUp(-1,e,!1)};t._handlePointerUp=function(e,t,n){var r=this._getPointerData(e),i;if(this.onMouseMove||this.hasEventListener("stagemouseup"))i=new createjs.MouseEvent("stagemouseup",r.x,r.y,this,t,e,e==this._primaryPointerID,r.rawX,r.rawY),this.onMouseUp&&this.onMouseUp(i),this.dispatchEvent(i);var s=r.event;s&&(s.onMouseUp||s.hasEventListener("mouseup"))&&(i=new createjs.MouseEvent("mouseup",r.x,r.y,s.target,t,e,e==this._primaryPointerID,r.rawX,r.rawY),s.onMouseUp&&s.onMouseUp(i),s.dispatchEvent(i,s.target));(s=r.target)&&(s.onClick||s.hasEventListener("click"))&&this._getObjectsUnderPoint(r.x,r.y,null,!0,this._mouseOverIntervalID?3:1)==s&&(i=new createjs.MouseEvent("click",r.x,r.y,s,t,e,e==this._primaryPointerID,r.rawX,r.rawY),s.onClick&&s.onClick(i),s.dispatchEvent(i));n?(e==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[e]):r.event=r.target=null};t._handleMouseDown=function(e){this._handlePointerDown(-1,e,!1)};t._handlePointerDown=function(e,t,n,r){var i=this._getPointerData(e);null!=r&&this._updatePointerPosition(e,n,r);if(this.onMouseDown||this.hasEventListener("stagemousedown"))n=new createjs.MouseEvent("stagemousedown",i.x,i.y,this,t,e,e==this._primaryPointerID,i.rawX,i.rawY),this.onMouseDown&&this.onMouseDown(n),this.dispatchEvent(n);if(r=this._getObjectsUnderPoint(i.x,i.y,null,this._mouseOverIntervalID?3:1))if(i.target=r,r.onPress||r.hasEventListener("mousedown"))if(n=new createjs.MouseEvent("mousedown",i.x,i.y,r,t,e,e==this._primaryPointerID,i.rawX,i.rawY),r.onPress&&r.onPress(n),r.dispatchEvent(n),n.onMouseMove||n.onMouseUp||n.hasEventListener("mousemove")||n.hasEventListener("mouseup"))i.event=n};t._testMouseOver=function(){if(-1==this._primaryPointerID&&(this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var e=null;this.mouseInBounds&&(e=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,3),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var t=this._mouseOverTarget;if(t!=e){var n=this._getPointerData(-1);if(t&&(t.onMouseOut||t.hasEventListener("mouseout"))){var r=new createjs.MouseEvent("mouseout",n.x,n.y,t,null,-1,n.rawX,n.rawY);t.onMouseOut&&t.onMouseOut(r);t.dispatchEvent(r)}t&&(this.canvas.style.cursor="");e&&(e.onMouseOver||e.hasEventListener("mouseover"))&&(r=new createjs.MouseEvent("mouseover",n.x,n.y,e,null,-1,n.rawX,n.rawY),e.onMouseOver&&e.onMouseOver(r),e.dispatchEvent(r));e&&(this.canvas.style.cursor=e.cursor||"");this._mouseOverTarget=e}}};t._handleDoubleClick=function(e){var t=this._getPointerData(-1),n=this._getObjectsUnderPoint(t.x,t.y,null,this._mouseOverIntervalID?3:1);n&&(n.onDoubleClick||n.hasEventListener("dblclick"))&&(evt=new createjs.MouseEvent("dblclick",t.x,t.y,n,e,-1,!0,t.rawX,t.rawY),n.onDoubleClick&&n.onDoubleClick(evt),n.dispatchEvent(evt))};createjs.Stage=e})();this.createjs=this.createjs||{};(function(){var e=function(e){this.initialize(e)},t=e.prototype=new createjs.DisplayObject;t.image=null;t.snapToPixel=!0;t.sourceRect=null;t.DisplayObject_initialize=t.initialize;t.initialize=function(e){this.DisplayObject_initialize();"string"==typeof e?(this.image=new Image,this.image.src=e):this.image=e};t.isVisible=function(){var e=this.cacheCanvas||this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState);return!!this.visible&&!!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)};t.DisplayObject_draw=t.draw;t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var n=this.sourceRect;n?e.drawImage(this.image,n.x,n.y,n.width,n.height,0,0,n.width,n.height):e.drawImage(this.image,0,0);return!0};t.clone=function(){var t=new e(this.image);this.sourceRect&&(t.sourceRect=this.sourceRect.clone());this.cloneProps(t);return t};t.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=e})();this.createjs=this.createjs||{};(function(){var e=function(e){this.initialize(e)},t=e.prototype=new createjs.DisplayObject;t.onAnimationEnd=null;t.currentFrame=-1;t.currentAnimation=null;t.paused=!0;t.spriteSheet=null;t.snapToPixel=!0;t.offset=0;t.currentAnimationFrame=0;t.addEventListener=null;t.removeEventListener=null;t.removeAllEventListeners=null;t.dispatchEvent=null;t.hasEventListener=null;t._listeners=null;createjs.EventDispatcher.initialize(t);t._advanceCount=0;t._animation=null;t.DisplayObject_initialize=t.initialize;t.initialize=function(e){this.DisplayObject_initialize();this.spriteSheet=e};t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet.complete&&0<=this.currentFrame;return!!this.visible&&!!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)};t.DisplayObject_draw=t.draw;t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var n=this.spriteSheet.getFrame(this.currentFrame);if(n){var r=n.rect;e.drawImage(n.image,r.x,r.y,r.width,r.height,-n.regX,-n.regY,r.width,r.height);return!0}};t.play=function(){this.paused=!1};t.stop=function(){this.paused=!0};t.gotoAndPlay=function(e){this.paused=!1;this._goto(e)};t.gotoAndStop=function(e){this.paused=!0;this._goto(e)};t.advance=function(){this._animation?this.currentAnimationFrame++:this.currentFrame++;this._normalizeFrame()};t.getBounds=function(){return this.spriteSheet.getFrameBounds(this.currentFrame)};t.clone=function(){var t=new e(this.spriteSheet);this.cloneProps(t);return t};t.toString=function(){return"[BitmapAnimation (name="+this.name+")]"};t.DisplayObject__tick=t._tick;t._tick=function(e){var t=this._animation?this._animation.frequency:1;!this.paused&&0==(++this._advanceCount+this.offset)%t&&this.advance();this.DisplayObject__tick(e)};t._normalizeFrame=function(){var e=this._animation,t=this.currentFrame,n=this.paused,r;if(e)if(r=e.frames.length,this.currentAnimationFrame>=r){var i=e.next;this._dispatchAnimationEnd(e,t,n,i,r-1)||(i?this._goto(i):(this.paused=!0,this.currentAnimationFrame=e.frames.length-1,this.currentFrame=e.frames[this.currentAnimationFrame]))}else this.currentFrame=e.frames[this.currentAnimationFrame];else r=this.spriteSheet.getNumFrames(),t>=r&&!this._dispatchAnimationEnd(e,t,n,r-1)&&(this.currentFrame=0)};t._dispatchAnimationEnd=function(e,t,n,r,i){var s=e?e.name:null;this.onAnimationEnd&&this.onAnimationEnd(this,s,r);this.dispatchEvent({type:"animationend",name:s,next:r});!n&&this.paused&&(this.currentAnimationFrame=i);return this.paused!=n||this._animation!=e||this.currentFrame!=t};t.DisplayObject_cloneProps=t.cloneProps;t.cloneProps=function(e){this.DisplayObject_cloneProps(e);e.onAnimationEnd=this.onAnimationEnd;e.currentFrame=this.currentFrame;e.currentAnimation=this.currentAnimation;e.paused=this.paused;e.offset=this.offset;e._animation=this._animation;e.currentAnimationFrame=this.currentAnimationFrame};t._goto=function(e){if(isNaN(e)){var t=this.spriteSheet.getAnimation(e);t&&(this.currentAnimationFrame=0,this._animation=t,this.currentAnimation=e,this._normalizeFrame())}else this.currentAnimation=this._animation=null,this.currentFrame=e};createjs.BitmapAnimation=e})();this.createjs=this.createjs||{};(function(){var e=function(e){this.initialize(e)},t=e.prototype=new createjs.DisplayObject;t.graphics=null;t.DisplayObject_initialize=t.initialize;t.initialize=function(e){this.DisplayObject_initialize();this.graphics=e?e:new createjs.Graphics};t.isVisible=function(){var e=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!this.visible&&!!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)};t.DisplayObject_draw=t.draw;t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this.graphics.draw(e);return!0};t.clone=function(t){t=new e(t&&this.graphics?this.graphics.clone():this.graphics);this.cloneProps(t);return t};t.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=e})();this.createjs=this.createjs||{};(function(){var e=function(e,t,n){this.initialize(e,t,n)},t=e.prototype=new createjs.DisplayObject;e._workingContext=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d");t.text="";t.font=null;t.color="#000";t.textAlign="left";t.textBaseline="top";t.maxWidth=null;t.outline=!1;t.lineHeight=0;t.lineWidth=null;t.DisplayObject_initialize=t.initialize;t.initialize=function(e,t,n){this.DisplayObject_initialize();this.text=e;this.font=t;this.color=n?n:"#000"};t.isVisible=function(){var e=this.cacheCanvas||null!=this.text&&""!==this.text;return!!this.visible&&!!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)};t.DisplayObject_draw=t.draw;t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this.outline?e.strokeStyle=this.color:e.fillStyle=this.color;e.font=this.font;e.textAlign=this.textAlign||"start";e.textBaseline=this.textBaseline||"alphabetic";this._drawText(e);return!0};t.getMeasuredWidth=function(){return this._getWorkingContext().measureText(this.text).width};t.getMeasuredLineHeight=function(){return 1.2*this._getWorkingContext().measureText("M").width};t.getMeasuredHeight=function(){return this._drawText()*(this.lineHeight||this.getMeasuredLineHeight())};t.clone=function(){var t=new e(this.text,this.font,this.color);this.cloneProps(t);return t};t.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};t.DisplayObject_cloneProps=t.cloneProps;t.cloneProps=function(e){this.DisplayObject_cloneProps(e);e.textAlign=this.textAlign;e.textBaseline=this.textBaseline;e.maxWidth=this.maxWidth;e.outline=this.outline;e.lineHeight=this.lineHeight;e.lineWidth=this.lineWidth};t._getWorkingContext=function(){var t=e._workingContext;t.font=this.font;t.textAlign=this.textAlign||"start";t.textBaseline=this.textBaseline||"alphabetic";return t};t._drawText=function(e){var t=!!e;t||(e=this._getWorkingContext());for(var n=String(this.text).split(/(?:\r\n|\r|\n)/),r=this.lineHeight||this.getMeasuredLineHeight(),i=0,s=0,o=n.length;s<o;s++){var u=e.measureText(n[s]).width;if(null==this.lineWidth||u<this.lineWidth)t&&this._drawTextLine(e,n[s],i*r);else{for(var u=n[s].split(/(\s)/),a=u[0],f=1,l=u.length;f<l;f+=2)e.measureText(a+u[f]+u[f+1]).width>this.lineWidth?(t&&this._drawTextLine(e,a,i*r),i++,a=u[f+1]):a+=u[f]+u[f+1];t&&this._drawTextLine(e,a,i*r)}i++}return i};t._drawTextLine=function(e,t,n){this.outline?e.strokeText(t,0,n,this.maxWidth||65535):e.fillText(t,0,n,this.maxWidth||65535)};createjs.Text=e})();this.createjs=this.createjs||{};(function(){var e=function(){throw"SpriteSheetUtils cannot be instantiated"};e._workingCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");e._workingContext=e._workingCanvas.getContext("2d");e.addFlippedFrames=function(t,n,r,i){if(n||r||i){var s=0;n&&e._flip(t,++s,!0,!1);r&&e._flip(t,++s,!1,!0);i&&e._flip(t,++s,!0,!0)}};e.extractFrame=function(t,n){isNaN(n)&&(n=t.getAnimation(n).frames[0]);var r=t.getFrame(n);if(!r)return null;var i=r.rect,s=e._workingCanvas;s.width=i.width;s.height=i.height;e._workingContext.drawImage(r.image,i.x,i.y,i.width,i.height,0,0,i.width,i.height);r=new Image;r.src=s.toDataURL("image/png");return r};e.mergeAlpha=function(e,t,n){n||(n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));n.width=Math.max(t.width,e.width);n.height=Math.max(t.height,e.height);var r=n.getContext("2d");r.save();r.drawImage(e,0,0);r.globalCompositeOperation="destination-in";r.drawImage(t,0,0);r.restore();return n};e._flip=function(t,n,r,i){for(var s=t._images,o=e._workingCanvas,u=e._workingContext,a=s.length/n,f=0;f<a;f++){var l=s[f];l.__tmp=f;u.setTransform(1,0,0,1,0,0);u.clearRect(0,0,o.width+1,o.height+1);o.width=l.width;o.height=l.height;u.setTransform(r?-1:1,0,0,i?-1:1,r?l.width:0,i?l.height:0);u.drawImage(l,0,0);var h=new Image;h.src=o.toDataURL("image/png");h.width=l.width;h.height=l.height;s.push(h)}u=t._frames;o=u.length/n;for(f=0;f<o;f++){var l=u[f],p=l.rect.clone(),h=s[l.image.__tmp+a*n],d={image:h,rect:p,regX:l.regX,regY:l.regY};r&&(p.x=h.width-p.x-p.width,d.regX=p.width-l.regX);i&&(p.y=h.height-p.y-p.height,d.regY=p.height-l.regY);u.push(d)}r="_"+(r?"h":"")+(i?"v":"");i=t._animations;t=t._data;s=i.length/n;for(f=0;f<s;f++){u=i[f];l=t[u];a={name:u+r,frequency:l.frequency,next:l.next,frames:[]};l.next&&(a.next+=r);u=l.frames;l=0;for(h=u.length;l<h;l++)a.frames.push(u[l]+o*n);t[a.name]=a;i.push(a.name)}};createjs.SpriteSheetUtils=e})();this.createjs=this.createjs||{};(function(){var e=function(){this.initialize()},t=e.prototype;e.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";e.ERR_RUNNING="a build is already running";t.maxWidth=2048;t.maxHeight=2048;t.spriteSheet=null;t.scale=1;t.padding=1;t.timeSlice=.3;t.progress=-1;t.onComplete=null;t.onProgress=null;t.addEventListener=null;t.removeEventListener=null;t.removeAllEventListeners=null;t.dispatchEvent=null;t.hasEventListener=null;t._listeners=null;createjs.EventDispatcher.initialize(t);t._frames=null;t._animations=null;t._data=null;t._nextFrameIndex=0;t._index=0;t._timerID=null;t._scale=1;t.initialize=function(){this._frames=[];this._animations={}};t.addFrame=function(t,n,r,i,s,o){if(this._data)throw e.ERR_RUNNING;n=n||t.bounds||t.nominalBounds;!n&&t.getBounds&&(n=t.getBounds());if(!n)return null;r=r||1;return this._frames.push({source:t,sourceRect:n,scale:r,funct:i,params:s,scope:o,index:this._frames.length,height:n.height*r})-1};t.addAnimation=function(t,n,r,i){if(this._data)throw e.ERR_RUNNING;this._animations[t]={frames:n,next:r,frequency:i}};t.addMovieClip=function(t,n,r){if(this._data)throw e.ERR_RUNNING;var i=t.frameBounds,s=n||t.bounds||t.nominalBounds;!s&&t.getBounds&&(s=t.getBounds());if(!s&&!i)return null;n=this._frames.length;for(var o=t.timeline.duration,u=0;u<o;u++)this.addFrame(t,i&&i[u]?i[u]:s,r,function(e){var t=this.actionsEnabled;this.actionsEnabled=!1;this.gotoAndStop(e);this.actionsEnabled=t},[u],t);u=t.timeline._labels;t=[];for(var a in u)t.push({index:u[a],label:a});if(t.length){t.sort(function(e,t){return e.index-t.index});u=0;for(a=t.length;u<a;u++){r=t[u].label;for(var i=n+(u==a-1?o:t[u+1].index),s=[],f=n+t[u].index;f<i;f++)s.push(f);this.addAnimation(r,s,!0)}}};t.build=function(){if(this._data)throw e.ERR_RUNNING;for(this._startBuild();this._drawNext(););this._endBuild();return this.spriteSheet};t.buildAsync=function(t){if(this._data)throw e.ERR_RUNNING;this.timeSlice=t;this._startBuild();var n=this;this._timerID=setTimeout(function(){n._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))};t.stopAsync=function(){clearTimeout(this._timerID);this._data=null};t.clone=function(){throw"SpriteSheetBuilder cannot be cloned."};t.toString=function(){return"[SpriteSheetBuilder]"};t._startBuild=function(){var t=this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var n=[];this._data={images:[],frames:n,animations:this._animations};var r=this._frames.slice();r.sort(function(e,t){return e.height<=t.height?-1:1});if(r[r.length-1].height+2*t>this.maxHeight)throw e.ERR_DIMENSIONS;for(var i=0,s=0,o=0;r.length;){var u=this._fillRow(r,i,o,n,t);u.w>s&&(s=u.w);i+=u.h;if(!u.h||!r.length){var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.width=this._getSize(s,this.maxWidth);a.height=this._getSize(i,this.maxHeight);this._data.images[o]=a;u.h||(s=i=0,o++)}}};t._getSize=function(e,t){for(var n=4;Math.pow(2,++n)<e;);return Math.min(t,Math.pow(2,n))};t._fillRow=function(t,n,r,i,s){var o=this.maxWidth,u=this.maxHeight;n+=s;for(var u=u-n,a=s,f=0,l=t.length-1;0<=l;l--){var h=t[l],p=this._scale*h.scale,d=h.sourceRect,v=h.source,m=Math.floor(p*d.x-s),g=Math.floor(p*d.y-s),y=Math.ceil(p*d.height+2*s),d=Math.ceil(p*d.width+2*s);if(d>o)throw e.ERR_DIMENSIONS;y>u||a+d>o||(h.img=r,h.rect=new createjs.Rectangle(a,n,d,y),f=f||y,t.splice(l,1),i[h.index]=[a,n,d,y,r,Math.round(-m+p*v.regX-s),Math.round(-g+p*v.regY-s)],a+=d)}return{w:a,h:f}};t._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.onComplete&&this.onComplete(this);this.dispatchEvent("complete")};t._run=function(){for(var e=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),t=(new Date).getTime()+e,n=!1;t>(new Date).getTime();)if(!this._drawNext()){n=!0;break}if(n)this._endBuild();else{var r=this;this._timerID=setTimeout(function(){r._run()},50-e)}e=this.progress=this._index/this._frames.length;this.onProgress&&this.onProgress(this,e);this.dispatchEvent({type:"progress",progress:e})};t._drawNext=function(){var e=this._frames[this._index],t=e.scale*this._scale,n=e.rect,r=e.sourceRect,i=this._data.images[e.img].getContext("2d");e.funct&&e.funct.apply(e.scope,e.params);i.save();i.beginPath();i.rect(n.x,n.y,n.width,n.height);i.clip();i.translate(Math.ceil(n.x-r.x*t),Math.ceil(n.y-r.y*t));i.scale(t,t);e.source.draw(i);i.restore();return++this._index<this._frames.length};createjs.SpriteSheetBuilder=e})();this.createjs=this.createjs||{};(function(){var e=function(e){this.initialize(e)},t=e.prototype=new createjs.DisplayObject;t.htmlElement=null;t._oldMtx=null;t.DisplayObject_initialize=t.initialize;t.initialize=function(e){"string"==typeof e&&(e=document.getElementById(e));this.DisplayObject_initialize();this.mouseEnabled=!1;this.htmlElement=e;e=e.style;e.position="absolute";e.transformOrigin=e.WebkitTransformOrigin=e.msTransformOrigin=e.MozTransformOrigin=e.OTransformOrigin="0% 0%"};t.isVisible=function(){return null!=this.htmlElement};t.draw=function(){if(null!=this.htmlElement){var e=this.getConcatenatedMatrix(this._matrix),t=this.htmlElement.style;if(!this.visible)return!0;t.visibility="visible";var n=this._oldMtx||{};n.alpha!=e.alpha&&(t.opacity=""+e.alpha,n.alpha=e.alpha);if(n.tx!=e.tx||n.ty!=e.ty||n.a!=e.a||n.b!=e.b||n.c!=e.c||n.d!=e.d)t.transform=t.WebkitTransform=t.OTransform=t.msTransform=["matrix("+e.a,e.b,e.c,e.d,e.tx+.5|0,(e.ty+.5|0)+")"].join(),t.MozTransform=["matrix("+e.a,e.b,e.c,e.d,(e.tx+.5|0)+"px",(e.ty+.5|0)+"px)"].join(),this._oldMtx=e.clone();return!0}};t.cache=function(){};t.uncache=function(){};t.updateCache=function(){};t.hitTest=function(){};t.localToGlobal=function(){};t.globalToLocal=function(){};t.localToLocal=function(){};t.clone=function(){throw"DOMElement cannot be cloned."};t.toString=function(){return"[DOMElement (name="+this.name+")]"};t.DisplayObject__tick=t._tick;t._tick=function(e){this.htmlElement.style.visibility="hidden";this.DisplayObject__tick(e)};createjs.DOMElement=e})();this.createjs=this.createjs||{};(function(){var e=function(){this.initialize()},t=e.prototype;t.initialize=function(){};t.getBounds=function(){return new createjs.Rectangle(0,0,0,0)};t.applyFilter=function(){};t.toString=function(){return"[Filter]"};t.clone=function(){return new e};createjs.Filter=e})();this.createjs=this.createjs||{};(function(){var e=function(){throw"Touch cannot be instantiated"};e.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled};e.enable=function(t,n,r){if(!t||!t.canvas||!e.isSupported())return!1;t.__touch={pointers:{},multitouch:!n,preventDefault:!r,count:0};"ontouchstart"in window?e._IOS_enable(t):window.navigator.msPointerEnabled&&e._IE_enable(t);return!0};e.disable=function(t){t&&("ontouchstart"in window?e._IOS_disable(t):window.navigator.msPointerEnabled&&e._IE_disable(t))};e._IOS_enable=function(t){var n=t.canvas,r=t.__touch.f=function(n){e._IOS_handleEvent(t,n)};n.addEventListener("touchstart",r,!1);n.addEventListener("touchmove",r,!1);n.addEventListener("touchend",r,!1);n.addEventListener("touchcancel",r,!1)};e._IOS_disable=function(e){var t=e.canvas;t&&(e=e.__touch.f,t.removeEventListener("touchstart",e,!1),t.removeEventListener("touchmove",e,!1),t.removeEventListener("touchend",e,!1),t.removeEventListener("touchcancel",e,!1))};e._IOS_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();for(var n=t.changedTouches,r=t.type,i=0,s=n.length;i<s;i++){var o=n[i],u=o.identifier;o.target==e.canvas&&("touchstart"==r?this._handleStart(e,u,t,o.pageX,o.pageY):"touchmove"==r?this._handleMove(e,u,t,o.pageX,o.pageY):("touchend"==r||"touchcancel"==r)&&this._handleEnd(e,u,t))}}};e._IE_enable=function(t){var n=t.canvas,r=t.__touch.f=function(n){e._IE_handleEvent(t,n)};n.addEventListener("MSPointerDown",r,!1);window.addEventListener("MSPointerMove",r,!1);window.addEventListener("MSPointerUp",r,!1);window.addEventListener("MSPointerCancel",r,!1);t.__touch.preventDefault&&(n.style.msTouchAction="none");t.__touch.activeIDs={}};e._IE_disable=function(e){var t=e.__touch.f;window.removeEventListener("MSPointerMove",t,!1);window.removeEventListener("MSPointerUp",t,!1);window.removeEventListener("MSPointerCancel",t,!1);e.canvas&&e.canvas.removeEventListener("MSPointerDown",t,!1)};e._IE_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var n=t.type,r=t.pointerId,i=e.__touch.activeIDs;if("MSPointerDown"==n)t.srcElement==e.canvas&&(i[r]=!0,this._handleStart(e,r,t,t.pageX,t.pageY));else if(i[r])if("MSPointerMove"==n)this._handleMove(e,r,t,t.pageX,t.pageY);else if("MSPointerUp"==n||"MSPointerCancel"==n)delete i[r],this._handleEnd(e,r,t)}};e._handleStart=function(e,t,n,r,i){var s=e.__touch;if(s.multitouch||!s.count){var o=s.pointers;o[t]||(o[t]=!0,s.count++,e._handlePointerDown(t,n,r,i))}};e._handleMove=function(e,t,n,r,i){e.__touch.pointers[t]&&e._handlePointerMove(t,n,r,i)};e._handleEnd=function(e,t,n){var r=e.__touch,i=r.pointers;i[t]&&(r.count--,e._handlePointerUp(t,n,!0),delete i[t])};createjs.Touch=e})();(function(){var e=this.createjs=this.createjs||{},e=e.EaselJS=e.EaselJS||{};e.version="2013.05.14";e.buildDate="Tue, 14 May 2013 21:49:54 GMT"})();this.createjs=this.createjs||{};(function(){var e=function(e,t,n){this.initialize(e,t,n)},t=e.prototype;e.NONE=0;e.LOOP=1;e.REVERSE=2;e.IGNORE={};e._tweens=[];e._plugins={};e.get=function(t,n,r,i){i&&e.removeTweens(t);return new e(t,n,r)};e.tick=function(t,n){for(var r=e._tweens.slice(),i=r.length-1;0<=i;i--){var s=r[i];n&&!s.ignoreGlobalPause||s._paused||s.tick(s._useTicks?1:t)}};createjs.Ticker&&createjs.Ticker.addListener(e,!1);e.removeTweens=function(t){if(t.tweenjs_count){for(var n=e._tweens,r=n.length-1;0<=r;r--)n[r]._target==t&&(n[r]._paused=!0,n.splice(r,1));t.tweenjs_count=0}};e.removeAllTweens=function(){for(var t=e._tweens,n=0,r=t.length;n<r;n++){var i=t[n];i.paused=!0;i.target.tweenjs_count=0}t.length=0};e.hasActiveTweens=function(t){return t?t.tweenjs_count:e._tweens&&e._tweens.length};e.installPlugin=function(t,n){var r=t.priority;null==r&&(t.priority=r=0);for(var i=0,s=n.length,o=e._plugins;i<s;i++){var u=n[i];if(o[u]){for(var a=o[u],f=0,l=a.length;f<l&&!(r<a[f].priority);f++);o[u].splice(f,0,t)}else o[u]=[t]}};e._register=function(t,n){var r=t._target;n?(r&&(r.tweenjs_count=r.tweenjs_count?r.tweenjs_count+1:1),e._tweens.push(t)):(r&&r.tweenjs_count--,r=e._tweens.indexOf(t),-1!=r&&e._tweens.splice(r,1))};t.addEventListener=null;t.removeEventListener=null;t.removeAllEventListeners=null;t.dispatchEvent=null;t.hasEventListener=null;t._listeners=null;createjs.EventDispatcher.initialize(t);t.ignoreGlobalPause=!1;t.loop=!1;t.duration=0;t.pluginData=null;t.onChange=null;t.change=null;t.target=null;t.position=null;t._paused=!1;t._curQueueProps=null;t._initQueueProps=null;t._steps=null;t._actions=null;t._prevPosition=0;t._stepPosition=0;t._prevPos=-1;t._target=null;t._useTicks=!1;t.initialize=function(t,n,r){this.target=this._target=t;n&&(this._useTicks=n.useTicks,this.ignoreGlobalPause=n.ignoreGlobalPause,this.loop=n.loop,this.onChange=n.onChange,n.override&&e.removeTweens(t));this.pluginData=r||{};this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];n&&n.paused?this._paused=!0:e._register(this,!0);n&&null!=n.position&&this.setPosition(n.position,e.NONE)};t.wait=function(e){if(null==e||0>=e)return this;var t=this._cloneProps(this._curQueueProps);return this._addStep({d:e,p0:t,e:this._linearEase,p1:t})};t.to=function(e,t,n){if(isNaN(t)||0>t)t=0;return this._addStep({d:t||0,p0:this._cloneProps(this._curQueueProps),e:n,p1:this._cloneProps(this._appendQueueProps(e))})};t.call=function(e,t,n){return this._addAction({f:e,p:t?t:[this],o:n?n:this._target})};t.set=function(e,t){return this._addAction({f:this._set,o:this,p:[e,t?t:this._target]})};t.play=function(e){return this.call(e.setPaused,[!1],e)};t.pause=function(e){e||(e=this);return this.call(e.setPaused,[!0],e)};t.setPosition=function(e,t){0>e&&(e=0);null==t&&(t=1);var n=e,r=!1;n>=this.duration&&(this.loop?n%=this.duration:(n=this.duration,r=!0));if(n==this._prevPos)return r;var i=this._prevPos;this.position=this._prevPos=n;this._prevPosition=e;if(this._target)if(r)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var s=0,o=this._steps.length;s<o&&!(this._steps[s].t>n);s++);s=this._steps[s-1];this._updateTargetProps(s,(this._stepPosition=n-s.t)/s.d)}0!=t&&0<this._actions.length&&(this._useTicks?this._runActions(n,n):1==t&&n<i?(i!=this.duration&&this._runActions(i,this.duration),this._runActions(0,n,!0)):this._runActions(i,n));r&&this.setPaused(!0);this.onChange&&this.onChange(this);this.dispatchEvent("change");return r};t.tick=function(e){this._paused||this.setPosition(this._prevPosition+e)};t.setPaused=function(t){this._paused=!!t;e._register(this,!t);return this};t.w=t.wait;t.t=t.to;t.c=t.call;t.s=t.set;t.toString=function(){return"[Tween]"};t.clone=function(){throw"Tween can not be cloned."};t._updateTargetProps=function(t,r){var i,s,o,u;!t&&1==r?i=s=this._curQueueProps:(t.e&&(r=t.e(r,0,1,1)),i=t.p0,s=t.p1);for(n in this._initQueueProps){null==(o=i[n])&&(i[n]=o=this._initQueueProps[n]);null==(u=s[n])&&(s[n]=u=o);o=o==u||0==r||1==r||"number"!=typeof o?1==r?u:o:o+(u-o)*r;var a=!1;if(u=e._plugins[n])for(var f=0,l=u.length;f<l;f++){var h=u[f].tween
(this,n,o,i,s,r,!!t&&i==s,!t);h==e.IGNORE?a=!0:o=h}a||(this._target[n]=o)}};t._runActions=function(e,t,n){var r=e,i=t,s=-1,o=this._actions.length,u=1;e>t&&(r=t,i=e,s=o,o=u=-1);for(;(s+=u)!=o;){t=this._actions[s];var a=t.t;(a==i||a>r&&a<i||n&&a==e)&&t.f.apply(t.o,t.p)}};t._appendQueueProps=function(t){var n,r,i,s,o,u;for(u in t){if(void 0===this._initQueueProps[u]){r=this._target[u];if(n=e._plugins[u]){i=0;for(s=n.length;i<s;i++)r=n[i].init(this,u,r)}this._initQueueProps[u]=void 0===r?null:r}else r=this._curQueueProps[u];if(n=e._plugins[u]){o=o||{};i=0;for(s=n.length;i<s;i++)n[i].step&&n[i].step(this,u,r,t[u],o)}this._curQueueProps[u]=t[u]}o&&this._appendQueueProps(o);return this._curQueueProps};t._cloneProps=function(e){var t={},n;for(n in e)t[n]=e[n];return t};t._addStep=function(e){0<e.d&&(this._steps.push(e),e.t=this.duration,this.duration+=e.d);return this};t._addAction=function(e){e.t=this.duration;this._actions.push(e);return this};t._set=function(e,t){for(var n in e)t[n]=e[n]};createjs.Tween=e})();this.createjs=this.createjs||{};(function(){var e=function(e,t,n){this.initialize(e,t,n)},t=e.prototype;t.ignoreGlobalPause=!1;t.duration=0;t.loop=!1;t.onChange=null;t.position=null;t._paused=!1;t._tweens=null;t._labels=null;t._prevPosition=0;t._prevPos=-1;t._useTicks=!1;t.initialize=function(e,t,n){this._tweens=[];n&&(this._useTicks=n.useTicks,this.loop=n.loop,this.ignoreGlobalPause=n.ignoreGlobalPause,this.onChange=n.onChange);e&&this.addTween.apply(this,e);this.setLabels(t);n&&n.paused?this._paused=!0:createjs.Tween._register(this,!0);n&&null!=n.position&&this.setPosition(n.position,createjs.Tween.NONE)};t.addTween=function(e){var t=arguments.length;if(1<t){for(var n=0;n<t;n++)this.addTween(arguments[n]);return arguments[0]}if(0==t)return null;this.removeTween(e);this._tweens.push(e);e.setPaused(!0);e._paused=!1;e._useTicks=this._useTicks;e.duration>this.duration&&(this.duration=e.duration);0<=this._prevPos&&e.setPosition(this._prevPos,createjs.Tween.NONE);return e};t.removeTween=function(e){var t=arguments.length;if(1<t){for(var n=!0,r=0;r<t;r++)n=n&&this.removeTween(arguments[r]);return n}if(0==t)return!1;t=this._tweens.indexOf(e);return-1!=t?(this._tweens.splice(t,1),e.duration>=this.duration&&this.updateDuration(),!0):!1};t.addLabel=function(e,t){this._labels[e]=t};t.setLabels=function(e){this._labels=e?e:{}};t.gotoAndPlay=function(e){this.setPaused(!1);this._goto(e)};t.gotoAndStop=function(e){this.setPaused(!0);this._goto(e)};t.setPosition=function(e,t){0>e&&(e=0);var n=this.loop?e%this.duration:e,r=!this.loop&&e>=this.duration;if(n==this._prevPos)return r;this._prevPosition=e;this.position=this._prevPos=n;for(var i=0,s=this._tweens.length;i<s;i++)if(this._tweens[i].setPosition(n,t),n!=this._prevPos)return!1;r&&this.setPaused(!0);this.onChange&&this.onChange(this);return r};t.setPaused=function(e){this._paused=!!e;createjs.Tween._register(this,!e)};t.updateDuration=function(){for(var e=this.duration=0,t=this._tweens.length;e<t;e++){var n=this._tweens[e];n.duration>this.duration&&(this.duration=n.duration)}};t.tick=function(e){this.setPosition(this._prevPosition+e)};t.resolve=function(e){var t=parseFloat(e);isNaN(t)&&(t=this._labels[e]);return t};t.toString=function(){return"[Timeline]"};t.clone=function(){throw"Timeline can not be cloned."};t._goto=function(e){e=this.resolve(e);null!=e&&this.setPosition(e)};createjs.Timeline=e})();this.createjs=this.createjs||{};(function(){var e=function(){throw"Ease cannot be instantiated."};e.linear=function(e){return e};e.none=e.linear;e.get=function(e){-1>e&&(e=-1);1<e&&(e=1);return function(t){return 0==e?t:0>e?t*(t*-e+1+e):t*((2-t)*e+(1-e))}};e.getPowIn=function(e){return function(t){return Math.pow(t,e)}};e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}};e.getPowInOut=function(e){return function(t){return 1>(t*=2)?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}};e.quadIn=e.getPowIn(2);e.quadOut=e.getPowOut(2);e.quadInOut=e.getPowInOut(2);e.cubicIn=e.getPowIn(3);e.cubicOut=e.getPowOut(3);e.cubicInOut=e.getPowInOut(3);e.quartIn=e.getPowIn(4);e.quartOut=e.getPowOut(4);e.quartInOut=e.getPowInOut(4);e.quintIn=e.getPowIn(5);e.quintOut=e.getPowOut(5);e.quintInOut=e.getPowInOut(5);e.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)};e.sineOut=function(e){return Math.sin(e*Math.PI/2)};e.sineInOut=function(e){return-0.5*(Math.cos(Math.PI*e)-1)};e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}};e.backIn=e.getBackIn(1.7);e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}};e.backOut=e.getBackOut(1.7);e.getBackInOut=function(e){e*=1.525;return function(t){return 1>(t*=2)?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)}};e.backInOut=e.getBackInOut(1.7);e.circIn=function(e){return-(Math.sqrt(1-e*e)-1)};e.circOut=function(e){return Math.sqrt(1- --e*e)};e.circInOut=function(e){return 1>(e*=2)?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};e.bounceIn=function(t){return 1-e.bounceOut(1-t)};e.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375};e.bounceInOut=function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5};e.getElasticIn=function(e,t){var n=2*Math.PI;return function(r){if(0==r||1==r)return r;var i=t/n*Math.asin(1/e);return-(e*Math.pow(2,10*(r-=1))*Math.sin((r-i)*n/t))}};e.elasticIn=e.getElasticIn(1,.3);e.getElasticOut=function(e,t){var n=2*Math.PI;return function(r){if(0==r||1==r)return r;var i=t/n*Math.asin(1/e);return e*Math.pow(2,-10*r)*Math.sin((r-i)*n/t)+1}};e.elasticOut=e.getElasticOut(1,.3);e.getElasticInOut=function(e,t){var n=2*Math.PI;return function(r){var i=t/n*Math.asin(1/e);return 1>(r*=2)?-0.5*e*Math.pow(2,10*(r-=1))*Math.sin((r-i)*n/t):.5*e*Math.pow(2,-10*(r-=1))*Math.sin((r-i)*n/t)+1}};e.elasticInOut=e.getElasticInOut(1,.3*1.5);createjs.Ease=e})();this.createjs=this.createjs||{};(function(){var e=function(){throw"MotionGuidePlugin cannot be instantiated."};e.priority=0;e.install=function(){createjs.Tween.installPlugin(e,["guide","x","y","rotation"]);return createjs.Tween.IGNORE};e.init=function(e,t,n){e=e.target;e.hasOwnProperty("x")||(e.x=0);e.hasOwnProperty("y")||(e.y=0);e.hasOwnProperty("rotation")||(e.rotation=0);return"guide"==t?null:n};e.step=function(t,n,r,i,s){if("guide"!=n)return i;var o;i.hasOwnProperty("path")||(i.path=[]);t=i.path;i.hasOwnProperty("end")||(i.end=1);i.hasOwnProperty("start")||(i.start=r&&r.hasOwnProperty("end")&&r.path===t?r.end:0);if(i.hasOwnProperty("_segments")&&i._length)return i;r=t.length;if(6<=r&&0==(r-2)%4){i._segments=[];i._length=0;for(n=2;n<r;n+=4){for(var u=t[n-2],a=t[n-1],f=t[n+0],l=t[n+1],h=t[n+2],p=t[n+3],d=u,v=a,m,g,y=0,b=[],w=1;10>=w;w++){g=w/10;var E=1-g;m=E*E*u+2*E*g*f+g*g*h;g=E*E*a+2*E*g*l+g*g*p;y+=b[b.push(Math.sqrt((o=m-d)*o+(o=g-v)*o))-1];d=m;v=g}i._segments.push(y);i._segments.push(b);i._length+=y}o=i.orient;i.orient=!1;e.calc(i,i.end,s);i.orient=o;return i}throw"invalid 'path' data, please see documentation for valid paths"};e.tween=function(t,n,r,i,s,o,u){s=s.guide;if(void 0==s||s===i.guide)return r;s.lastRatio!=o&&(e.calc(s,(s.end-s.start)*(u?s.end:o)+s.start,t.target),s.orient&&(t.target.rotation+=i.rotation||0),s.lastRatio=o);return!s.orient&&"rotation"==n?r:t.target[n]};e.calc=function(t,n,r){void 0==t._segments&&e.validate(t);void 0==r&&(r={x:0,y:0,rotation:0});var i=t._segments,s=t.path,o=t._length*n,u=i.length-2;for(n=0;o>i[n]&&n<u;)o-=i[n],n+=2;for(var i=i[n+1],a=0,u=i.length-1;o>i[a]&&a<u;)o-=i[a],a++;o=a/++u+o/(u*i[a]);n=2*n+2;u=1-o;r.x=u*u*s[n-2]+2*u*o*s[n+0]+o*o*s[n+2];r.y=u*u*s[n-1]+2*u*o*s[n+1]+o*o*s[n+3];t.orient&&(r.rotation=57.2957795*Math.atan2((s[n+1]-s[n-1])*u+(s[n+3]-s[n+1])*o,(s[n+0]-s[n-2])*u+(s[n+2]-s[n+0])*o));return r};createjs.MotionGuidePlugin=e})();(function(){var e=this.createjs=this.createjs||{},e=e.TweenJS=e.TweenJS||{};e.version="2013.05.14";e.buildDate="Tue, 14 May 2013 21:49:54 GMT"})();this.createjs=this.createjs||{};(function(){function e(){throw"Sound cannot be instantiated"}function t(e,t){this.init(e,t)}function n(){}e.DELIMITER="|";e.AUDIO_TIMEOUT=8e3;e.INTERRUPT_ANY="any";e.INTERRUPT_EARLY="early";e.INTERRUPT_LATE="late";e.INTERRUPT_NONE="none";e.PLAY_INITED="playInited";e.PLAY_SUCCEEDED="playSucceeded";e.PLAY_INTERRUPTED="playInterrupted";e.PLAY_FINISHED="playFinished";e.PLAY_FAILED="playFailed";e.SUPPORTED_EXTENSIONS="mp3 ogg mpeg wav m4a mp4 aiff wma mid".split(" ");e.EXTENSION_MAP={m4a:"mp4"};e.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;e.defaultInterruptBehavior=e.INTERRUPT_NONE;e.lastId=0;e.activePlugin=null;e.pluginsRegistered=!1;e.masterVolume=1;e.masterMute=!1;e.instances=[];e.idHash={};e.preloadHash={};e.defaultSoundInstance=null;e.addEventListener=null;e.removeEventListener=null;e.removeAllEventListeners=null;e.dispatchEvent=null;e.hasEventListener=null;e._listeners=null;createjs.EventDispatcher.initialize(e);e.onLoadComplete=null;e.sendFileLoadEvent=function(t){if(e.preloadHash[t])for(var n=0,r=e.preloadHash[t].length;n<r;n++){var i=e.preloadHash[t][n],s={target:this,type:"fileload",src:i.src,id:i.id,data:i.data};e.preloadHash[t][n]=!0;e.dispatchEvent(s);e.onLoadComplete&&e.onLoadComplete(s);s={target:this,type:"loadComplete",src:i.src,id:i.id,data:i.data};e.dispatchEvent(s)}};e.getPreloadHandlers=function(){return{callback:createjs.proxy(e.initLoad,e),types:["sound"],extensions:e.SUPPORTED_EXTENSIONS}};e.registerPlugin=function(t){e.pluginsRegistered=!0;return null==t?!1:t.isSupported()?(e.activePlugin=new t,!0):!1};e.registerPlugins=function(t){for(var n=0,r=t.length;n<r;n++)if(e.registerPlugin(t[n]))return!0;return!1};e.initializeDefaultPlugins=function(){return null!=e.activePlugin?!0:e.pluginsRegistered?!1:e.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1};e.isReady=function(){return null!=e.activePlugin};e.getCapabilities=function(){return null==e.activePlugin?null:e.activePlugin.capabilities};e.getCapability=function(t){return null==e.activePlugin?null:e.activePlugin.capabilities[t]};e.initLoad=function(t,n,r,i){t=e.registerSound(t,r,i,!1);return null==t?!1:t};e.registerSound=function(n,r,i,s){if(!e.initializeDefaultPlugins())return!1;n instanceof Object&&(r=n.id,i=n.data,n=n.src);var o=e.parsePath(n,"sound",r,i);if(null==o)return!1;null!=r&&(e.idHash[r]=o.src);var u=null;null!=i&&(isNaN(i.channels)?isNaN(i)||(u=parseInt(i)):u=parseInt(i.channels));var f=e.activePlugin.register(o.src,u);null!=f&&(null!=f.numChannels&&(u=f.numChannels),t.create(o.src,u),null==i||!isNaN(i)?i=o.data=u||t.maxPerChannel():i.channels=o.data.channels=u||t.maxPerChannel(),null!=f.tag?o.tag=f.tag:f.src&&(o.src=f.src),null!=f.completeHandler&&(o.completeHandler=f.completeHandler),f.type&&(o.type=f.type));0!=s&&(e.preloadHash[o.src]||(e.preloadHash[o.src]=[]),e.preloadHash[o.src].push({src:n,id:r,data:i}),1==e.preloadHash[o.src].length&&e.activePlugin.preload(o.src,f));return o};e.registerManifest=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=createjs.Sound.registerSound(e[n].src,e[n].id,e[n].data,e[n].preload);return t};e.removeSound=function(n){if(null==e.activePlugin)return!1;n instanceof Object&&(n=n.src);n=e.getSrcById(n);n=e.parsePath(n);if(null==n)return!1;n=n.src;for(var r in e.idHash)e.idHash[r]==n&&delete e.idHash[r];t.remove(n);delete e.preloadHash[n];e.activePlugin.removeSound(n);return!0};e.removeManifest=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=createjs.Sound.removeSound(e[n].src);return t};e.removeAllSounds=function(){e.idHash={};e.preloadHash={};t.removeAll();e.activePlugin.removeAllSounds()};e.loadComplete=function(t){var n=e.parsePath(t,"sound");t=n?e.getSrcById(n.src):e.getSrcById(t);return 1==e.preloadHash[t][0]};e.parsePath=function(t,n,r,i){"string"!=typeof t&&(t=t.toString());t=t.split(e.DELIMITER);n={type:n||"sound",id:r,data:i};r=e.getCapabilities();i=0;for(var s=t.length;i<s;i++){var o=t[i],u=o.match(e.FILE_PATTERN);if(null==u)return!1;var a=u[4],u=u[5];if(r[u]&&-1<e.SUPPORTED_EXTENSIONS.indexOf(u))return n.name=a,n.src=o,n.extension=u,n}return null};e.play=function(t,n,r,i,s,o,u){t=e.createInstance(t);e.playInstance(t,n,r,i,s,o,u)||t.playFailed();return t};e.createInstance=function(n){if(!e.initializeDefaultPlugins())return e.defaultSoundInstance;n=e.getSrcById(n);n=e.parsePath(n,"sound");var r=null;null!=n&&null!=n.src?(t.create(n.src),r=e.activePlugin.create(n.src)):r=e.defaultSoundInstance;r.uniqueId=e.lastId++;return r};e.setVolume=function(t){if(null==Number(t))return!1;t=Math.max(0,Math.min(1,t));e.masterVolume=t;if(!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var n=this.instances,r=0,i=n.length;r<i;r++)n[r].setMasterVolume(t)};e.getVolume=function(){return e.masterVolume};e.mute=function(e){this.masterMute=e;if(!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this.instances,n=0,r=t.length;n<r;n++)t[n].setMasterMute(e)};e.setMute=function(e){if(null==e||void 0==e)return!1;this.masterMute=e;if(!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this.instances,n=0,r=t.length;n<r;n++)t[n].setMasterMute(e);return!0};e.getMute=function(){return this.masterMute};e.stop=function(){for(var e=this.instances,t=e.length;t--;)e[t].stop()};e.playInstance=function(t,n,r,i,s,o,u){n=n||e.defaultInterruptBehavior;null==r&&(r=0);null==i&&(i=t.getPosition());null==s&&(s=0);null==o&&(o=t.getVolume());null==u&&(u=t.getPan());if(0==r){if(!e.beginPlaying(t,n,i,s,o,u))return!1}else r=setTimeout(function(){e.beginPlaying(t,n,i,s,o,u)},r),t.delayTimeoutId=r;this.instances.push(t);return!0};e.beginPlaying=function(e,n,r,i,s,o){return t.add(e,n)?e.beginPlaying(r,i,s,o)?!0:(e=this.instances.indexOf(e),-1<e&&this.instances.splice(e,1),!1):!1};e.getSrcById=function(t){return null==e.idHash||null==e.idHash[t]?t:e.idHash[t]};e.playFinished=function(e){t.remove(e);e=this.instances.indexOf(e);-1<e&&this.instances.splice(e,1)};e.proxy=function(e,t){return function(){return e.apply(t,arguments)}};createjs.Sound=e;createjs.proxy=function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(n))}};t.channels={};t.create=function(e,n){return null==t.get(e)?(t.channels[e]=new t(e,n),!0):!1};t.remove=function(e){var n=t.get(e);if(null==n)return!1;n.removeAll();delete t.channels[e];return!0};t.removeAll=function(){for(var e in t.channels)t.channels[e].removeAll();t.channels={}};t.add=function(e,n){var r=t.get(e.src);return null==r?!1:r.add(e,n)};t.remove=function(e){var n=t.get(e.src);if(null==n)return!1;n.remove(e);return!0};t.maxPerChannel=function(){return r.maxDefault};t.get=function(e){return t.channels[e]};var r=t.prototype={src:null,max:null,maxDefault:100,length:0,init:function(e,t){this.src=e;this.max=t||this.maxDefault;-1==this.max&&this.max==this.maxDefault;this.instances=[]},get:function(e){return this.instances[e]},add:function(e,t){if(!this.getSlot(t,e))return!1;this.instances.push(e);this.length++;return!0},remove:function(e){e=this.instances.indexOf(e);if(-1==e)return!1;this.instances.splice(e,1);this.length--;return!0},removeAll:function(){for(;this.length;)this.instances[this.length-1].stop()},getSlot:function(t){for(var n,r,i=0,s=this.max;i<s;i++){n=this.get(i);if(null==n)return!0;if(t!=e.INTERRUPT_NONE||n.playState==e.PLAY_FINISHED)if(0==i)r=n;else if(n.playState==e.PLAY_FINISHED||n.playState==e.PLAY_INTERRUPTED||n.playState==e.PLAY_FAILED)r=n;else if(t==e.INTERRUPT_EARLY&&n.getPosition()<r.getPosition()||t==e.INTERRUPT_LATE&&n.getPosition()>r.getPosition())r=n}return null!=r?(r.interrupt(),this.remove(r),!0):!1},toString:function(){return"[Sound SoundChannel]"}};e.defaultSoundInstance=new function(){this.isDefault=!0;this.addEventListener=this.removeEventListener=this.removeAllEventListener=this.dispatchEvent=this.hasEventListener=this._listeners=this.interrupt=this.playFailed=this.pause=this.resume=this.play=this.beginPlaying=this.cleanUp=this.stop=this.setMasterVolume=this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=function(){return!1};this.getVolume=this.getPan=this.getDuration=function(){return 0};this.playState=e.PLAY_FAILED;this.toString=function(){return"[Sound Default Sound Instance]"}};n.init=function(){var e=navigator.userAgent;n.isFirefox=-1<e.indexOf("Firefox");n.isOpera=null!=window.opera;n.isChrome=-1<e.indexOf("Chrome");n.isIOS=-1<e.indexOf("iPod")||-1<e.indexOf("iPhone")||-1<e.indexOf("iPad");n.isAndroid=-1<e.indexOf("Android");n.isBlackberry=-1<e.indexOf("Blackberry")};n.init();createjs.Sound.BrowserDetect=n})();this.createjs=this.createjs||{};(function(){function e(){this.init()}function t(e,t){this.init(e,t)}function n(e,t){this.init(e,t)}e.capabilities=null;e.isSupported=function(){var t=createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry;if("file:"==location.protocol&&!t)return!1;e.generateCapabilities();return null==e.context?!1:!0};e.generateCapabilities=function(){if(null==e.capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(window.webkitAudioContext)e.context=new webkitAudioContext;else{if(!window.AudioContext)return null;e.context=new AudioContext}e.playEmptySound();e.capabilities={panning:!0,volume:!0,tracks:-1};for(var n=createjs.Sound.SUPPORTED_EXTENSIONS,r=createjs.Sound.EXTENSION_MAP,i=0,s=n.length;i<s;i++){var o=n[i],u=r[o]||o;e.capabilities[o]="no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)||"no"!=t.canPlayType("audio/"+u)&&""!=t.canPlayType("audio/"+u)}2>e.context.destination.numberOfChannels&&(e.capabilities.panning=!1);e.dynamicsCompressorNode=e.context.createDynamicsCompressor();e.dynamicsCompressorNode.connect(e.context.destination);e.gainNode=e.context.createGainNode();e.gainNode.connect(e.dynamicsCompressorNode)}};e.playEmptySound=function(){var e=this.context.createBuffer(1,1,22050),t=this.context.createBufferSource();t.buffer=e;t.connect(this.context.destination);t.noteOn(0)};e.prototype={capabilities:null,volume:1,context:null,dynamicsCompressorNode:null,gainNode:null,arrayBuffers:null,init:function(){this.capabilities=e.capabilities;this.arrayBuffers={};this.context=e.context;this.gainNode=e.gainNode;this.dynamicsCompressorNode=e.dynamicsCompressorNode},register:function(e){this.arrayBuffers[e]=!0;return{tag:new n(e,this)}},isPreloadStarted:function(e){return null!=this.arrayBuffers[e]},isPreloadComplete:function(e){return null!=this.arrayBuffers[e]&&1!=this.arrayBuffers[e]},removeFromPreload:function(e){delete this.arrayBuffers[e]},removeSound:function(e){delete this.arrayBuffers[e]},removeAllSounds:function(){this.arrayBuffers={}},addPreloadResults:function(e,t){this.arrayBuffers[e]=t},handlePreloadComplete:function(){createjs.Sound.sendFileLoadEvent(this.src)},preload:function(e){this.arrayBuffers[e]=!0;e=new n(e,this);e.onload=this.handlePreloadComplete;e.load()},create:function(e){this.isPreloadStarted(e)||this.preload(e);return new t(e,this)},setVolume:function(e){this.volume=e;this.updateVolume();return!0},updateVolume:function(){var e=createjs.Sound.masterMute?0:this.volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},getVolume:function(){return this.volume},setMute:function(){this.updateVolume();return!0},toString:function(){return"[WebAudioPlugin]"}};createjs.WebAudioPlugin=e;t.prototype={src:null,uniqueId:-1,playState:null,owner:null,offset:0,delay:0,volume:1,pan:0,duration:0,remainingLoops:0,delayTimeoutId:null,soundCompleteTimeout:null,panNode:null,gainNode:null,sourceNode:null,sourceNodeNext:null,muted:!1,paused:!1,startTime:0,addEventListener:null,removeEventListener:null,removeAllEventListeners:null,dispatchEvent:null,hasEventListener:null,_listeners:null,endedHandler:null,readyHandler:null,stalledHandler:null,onReady:null,onPlaySucceeded:null,onPlayInterrupted:null,onPlayFailed:null,onComplete:null,onLoop:null,sendEvent:function(e){this.dispatchEvent({target:this,type:e})},init:function(e,t){this.owner=t;this.src=e;this.panNode=this.owner.context.createPanner();this.panNode.panningModel=0;this.gainNode=this.owner.context.createGainNode();this.gainNode.connect(this.panNode);this.owner.isPreloadComplete(this.src)&&(this.duration=1e3*this.owner.arrayBuffers[this.src].duration);this.endedHandler=createjs.proxy(this.handleSoundComplete,this);this.readyHandler=createjs.proxy(this.handleSoundReady,this);this.stalledHandler=createjs.proxy(this.handleSoundStalled,this)},cleanUp:function(){this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.cleanUpAudioNode(this.sourceNode),this.sourceNodeNext&&this.cleanUpAudioNode(this.sourceNodeNext));0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(0);clearTimeout(this.delayTimeoutId);clearTimeout(this.soundCompleteTimeout);null!=window.createjs&&createjs.Sound.playFinished(this)},cleanUpAudioNode:function(e){e.noteOff(0);e.disconnect(this.gainNode);return null},interrupt:function(){this.playState=createjs.Sound.PLAY_INTERRUPTED;this.onPlayInterrupted&&this.onPlayInterrupted(this);this.cleanUp();this.paused=!1;this.sendEvent("interrupted")},handleSoundStalled:function(){null!=this.onPlayFailed&&this.onPlayFailed(this);this.sendEvent("failed")},handleSoundReady:function(){if(null!=window.createjs)if(1e3*this.offset>this.getDuration())this.playFailed();else{0>this.offset&&(this.offset=0);this.playState=createjs.Sound.PLAY_SUCCEEDED;this.paused=!1;this.panNode.connect(this.owner.gainNode);var e=this.owner.arrayBuffers[this.src].duration;this.sourceNode=this.createAndPlayAudioNode(this.owner.context.currentTime-e,this.offset);this.duration=1e3*e;this.startTime=this.sourceNode.startTime-this.offset;this.soundCompleteTimeout=setTimeout(this.endedHandler,1e3*(e-this.offset));0!=this.remainingLoops&&(this.sourceNodeNext=this.createAndPlayAudioNode(this.startTime,0))}},createAndPlayAudioNode:function(e,t){var n=this.owner.context.createBufferSource();n.buffer=this.owner.arrayBuffers[this.src];n.connect(this.gainNode);n.startTime=e+n.buffer.duration;n.noteGrainOn(n.startTime,t,n.buffer.duration-t);return n},play:function(e,t,n,r,i,s){this.cleanUp();createjs.Sound.playInstance(this,e,t,n,r,i,s)},beginPlaying:function(e,t,n,r){if(null!=window.createjs&&this.src){this.offset=e/1e3;this.remainingLoops=t;this.setVolume(n);this.setPan(r);if(this.owner.isPreloadComplete(this.src))return this.handleSoundReady(null),this.onPlaySucceeded&&this.onPlaySucceeded(this),this.sendEvent("succeeded"),1;this.playFailed()}},pause:function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.paused=!0,this.offset=this.owner.context.currentTime-this.startTime,this.cleanUpAudioNode(this.sourceNode),this.cleanUpAudioNode(this.sourceNodeNext),0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(),clearTimeout(this.delayTimeoutId),clearTimeout(this.soundCompleteTimeout),!0):!1},resume:function(){if(!this.paused)return!1;this.handleSoundReady(null);return!0},stop:function(){this.playState=createjs.Sound.PLAY_FINISHED;this.cleanUp();this.offset=0;return!0},setVolume:function(e){if(null==Number(e))return!1;this.volume=e=Math.max(0,Math.min(1,e));this.updateVolume();return!0},updateVolume:function(){var e=this.muted?0:this.volume;return e!=this.gainNode.gain.value?(this.gainNode.gain.value=e,!0):!1},getVolume:function(){return this.volume},mute:function(e){this.muted=e;this.updateVolume();return!0},setMute:function(e){if(null==e||void 0==e)return!1;this.muted=e;this.updateVolume();return!0},getMute:function(){return this.muted},setPan:function(e){if(!this.owner.capabilities.panning)return!1;this.panNode.setPosition(e,0,-0.5),this.pan=e},getPan:function(){return this.pan},getPosition:function(){return 1e3*(this.paused||null==this.sourceNode?this.offset:this.owner.context.currentTime-this.startTime)},setPosition:function(e){this.offset=e/1e3;this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.cleanUpAudioNode(this.sourceNode),this.cleanUpAudioNode(this.sourceNodeNext),clearTimeout(this.soundCompleteTimeout));!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&this.handleSoundReady(null);return!0},getDuration:function(){return this.duration},handleSoundComplete:function(){this.offset=0;if(0!=this.remainingLoops){this.remainingLoops--;this.sourceNodeNext?(this.cleanUpAudioNode(this.sourceNode),this.sourceNode=this.sourceNodeNext,this.startTime=this.sourceNode.startTime,this.sourceNodeNext=this.createAndPlayAudioNode(this.startTime,0),this.soundCompleteTimeout=setTimeout(this.endedHandler,this.duration)):this.handleSoundReady(null);null!=this.onLoop&&this.onLoop(this);this.sendEvent("loop")}else if(null!=window.createjs){this.playState=createjs.Sound.PLAY_FINISHED;this.cleanUp();null!=this.onComplete&&this.onComplete(this);this.sendEvent("complete")}},playFailed:function(){if(null!=window.createjs){this.playState=createjs.Sound.PLAY_FAILED;null!=this.onPlayFailed&&this.onPlayFailed(this);this.cleanUp();this.sendEvent("failed")}},toString:function(){return"[WebAudioPlugin SoundInstance]"}};createjs.EventDispatcher.initialize(t.prototype);n.prototype={request:null,owner:null,progress:-1,src:null,result:null,onload:null,onprogress:null,onError:null,init:function(e,t){this.src=e;this.owner=t},load:function(e){null!=e&&(this.src=e);this.request=new XMLHttpRequest;this.request.open("GET",this.src,!0);this.request.responseType="arraybuffer";this.request.onload=createjs.proxy(this.handleLoad,this);this.request.onError=createjs.proxy(this.handleError,this);this.request.onprogress=createjs.proxy(this.handleProgress,this);this.request.send()},handleProgress:function(e,t){this.progress=e/t;null!=this.onprogress&&this.onprogress({loaded:e,total:t,progress:this.progress})},handleLoad:function(){e.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))},handleAudioDecoded:function(e){this.progress=1;this.result=e;this.owner.addPreloadResults(this.src,this.result);this.onload&&this.onload()},handleError:function(e){this.owner.removeSound(this.src);this.onerror&&this.onerror(e)},toString:function(){return"[WebAudioPlugin WebAudioLoader]"}}})();this.createjs=this.createjs||{};(function(){function e(){this.init()}function t(e,t){this.init(e,t)}function n(e,t){this.init(e,t)}function r(e){this.init(e)}e.MAX_INSTANCES=30;e.capabilities=null;e.AUDIO_READY="canplaythrough";e.AUDIO_ENDED="ended";e.AUDIO_SEEKED="seeked";e.AUDIO_ERROR="error";e.AUDIO_STALLED="stalled";e.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS)return!1;e.generateCapabilities();return null==e.tag||null==e.capabilities?!1:!0};e.generateCapabilities=function(){if(null==e.capabilities){var t=e.tag=document.createElement("audio");if(null==t.canPlayType)return null;e.capabilities={panning:!0,volume:!0,tracks:-1};for(var n=createjs.Sound.SUPPORTED_EXTENSIONS,r=createjs.Sound.EXTENSION_MAP,i=0,s=n.length;i<s;i++){var o=n[i],u=r[o]||o;e.capabilities[o]="no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)||"no"!=t.canPlayType("audio/"+u)&&""!=t.canPlayType("audio/"+u)}}};e.prototype={capabilities:null,audioSources:null,defaultNumChannels:2,init:function(){this.capabilities=e.capabilities;this.audioSources={}},register:function(e,t){this.audioSources[e]=!0;for(var n=r.get(e),i=null,s=t||this.defaultNumChannels,o=0;o<s;o++)i=this.createTag(e),n.add(i);return{tag:i,numChannels:s}},createTag:function(e){var t=document.createElement("audio");t.autoplay=!1;t.preload="none";t.src=e;return t},removeSound:function(e){delete this.audioSources[e];r.remove(e)},removeAllSounds:function(){this.audioSources={};r.removeAll()},create:function(e){if(!this.isPreloadStarted(e)){var n=r.get(e),i=this.createTag(e);n.add(i);this.preload(e,{tag:i})}return new t(e,this)},isPreloadStarted:function(e){return null!=this.audioSources[e]},preload:function(e,t){this.audioSources[e]=!0;new n(e,t.tag)},toString:function(){return"[HTMLAudioPlugin]"}};createjs.HTMLAudioPlugin=e;t.prototype={src:null,uniqueId:-1,playState:null,owner:null,loaded:!1,offset:0,delay:0,volume:1,pan:0,duration:0,remainingLoops:0,delayTimeoutId:null,tag:null,muted:!1,paused:!1,addEventListener:null,removeEventListener:null,removeAllEventListeners:null,dispatchEvent:null,hasEventListener:null,_listeners:null,onComplete:null,onLoop:null,onReady:null,onPlayFailed:null,onPlayInterrupted:null,onPlaySucceeded:null,endedHandler:null,readyHandler:null,stalledHandler:null,loopHandler:null,init:function(e,t){this.src=e;this.owner=t;this.endedHandler=createjs.proxy(this.handleSoundComplete,this);this.readyHandler=createjs.proxy(this.handleSoundReady,this);this.stalledHandler=createjs.proxy(this.handleSoundStalled,this);this.loopHandler=createjs.proxy(this.handleSoundLoop,this)},sendEvent:function(e){this.dispatchEvent({target:this,type:e})},cleanUp:function(){var e=this.tag;if(null!=e){e.pause();e.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1);e.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1);e.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1);try{e.currentTime=0}catch(t){}r.setInstance(this.src,e);this.tag=null}clearTimeout(this.delayTimeoutId);null!=window.createjs&&createjs.Sound.playFinished(this)},interrupt:function(){if(null!=this.tag){this.playState=createjs.Sound.PLAY_INTERRUPTED;this.onPlayInterrupted&&this.onPlayInterrupted(this);this.cleanUp();this.paused=!1;this.sendEvent("interrupted")}},play:function(e,t,n,r,i,s){this.cleanUp();createjs.Sound.playInstance(this,e,t,n,r,i,s)},beginPlaying:function(e,t,n){if(null==window.createjs)return-1;var i=this.tag=r.getInstance(this.src);if(null==i)return this.playFailed(),-1;i.addEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1);this.offset=e;this.volume=n;this.updateVolume();this.remainingLoops=t;4!==i.readyState?(i.addEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),i.addEventListener(createjs.HTMLAudioPlugin.AUDIO_STALLED,this.stalledHandler,!1),i.preload="auto",i.load()):this.handleSoundReady(null);this.onPlaySucceeded&&this.onPlaySucceeded(this);this.sendEvent("succeeded");return 1},handleSoundStalled:function(){null!=this.onPlayFailed&&this.onPlayFailed(this);this.cleanUp();this.sendEvent("failed")},handleSoundReady:function(){null!=window.createjs&&(this.duration=1e3*this.tag.duration,this.playState=createjs.Sound.PLAY_SUCCEEDED,this.paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),this.offset>=this.getDuration()?this.playFailed():(0<this.offset&&(this.tag.currentTime=.001*this.offset),-1==this.remainingLoops&&(this.tag.loop=!0),0!=this.remainingLoops&&(this.tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1),this.tag.loop=!0),this.tag.play()))},pause:function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&null!=this.tag?(this.paused=!0,this.tag.pause(),clearTimeout(this.delayTimeoutId),!0):!1},resume:function(){if(!this.paused||null==this.tag)return!1;this.paused=!1;this.tag.play();return!0},stop:function(){this.offset=0;this.pause();this.playState=createjs.Sound.PLAY_FINISHED;this.cleanUp();return!0},setMasterVolume:function(){this.updateVolume();return!0},setVolume:function(e){if(null==Number(e))return!1;this.volume=e=Math.max(0,Math.min(1,e));this.updateVolume();return!0},updateVolume:function(){if(null!=this.tag){var e=this.muted||createjs.Sound.masterMute?0:this.volume*createjs.Sound.masterVolume;e!=this.tag.volume&&(this.tag.volume=e);return!0}return!1},getVolume:function(){return this.volume},mute:function(e){this.muted=e;this.updateVolume();return!0},setMasterMute:function(){this.updateVolume();return!0},setMute:function(e){if(null==e||void 0==e)return!1;this.muted=e;this.updateVolume();return!0},getMute:function(){return this.muted},setPan:function(){return!1},getPan:function(){return 0},getPosition:function(){return null==this.tag?this.offset:1e3*this.tag.currentTime},setPosition:function(e){if(null==this.tag)this.offset=e;else{this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1);try{this.tag.currentTime=.001*e}catch(t){return!1}this.tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1)}return!0},getDuration:function(){return this.duration},handleSoundComplete:function(){this.offset=0;if(null!=window.createjs){this.playState=createjs.Sound.PLAY_FINISHED;this.cleanUp();null!=this.onComplete&&this.onComplete(this);this.sendEvent("complete")}},handleSoundLoop
:function(){this.offset=0;this.remainingLoops--;0==this.remainingLoops&&(this.tag.loop=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1));null!=this.onLoop&&this.onLoop(this);this.sendEvent("loop")},playFailed:function(){if(null!=window.createjs){this.playState=createjs.Sound.PLAY_FAILED;null!=this.onPlayFailed&&this.onPlayFailed(this);this.cleanUp();this.sendEvent("failed")}},toString:function(){return"[HTMLAudioPlugin SoundInstance]"}};createjs.EventDispatcher.initialize(t.prototype);n.prototype={src:null,tag:null,preloadTimer:null,loadedHandler:null,init:function(e,t){this.src=e;this.tag=t;this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200);this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this);this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler);this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this);this.tag.preload="auto";this.tag.src=e;this.tag.load()},preloadTick:function(){var e=this.tag.buffered,t=this.tag.duration;0<e.length&&e.end(0)>=t-1&&this.handleTagLoaded()},handleTagLoaded:function(){clearInterval(this.preloadTimer)},sendLoadedEvent:function(){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler);this.tag.onreadystatechange=null;createjs.Sound.sendFileLoadEvent(this.src)},toString:function(){return"[HTMLAudioPlugin HTMLAudioLoader]"}};r.tags={};r.get=function(e){var t=r.tags[e];null==t&&(t=r.tags[e]=new r(e));return t};r.remove=function(e){var t=r.tags[e];if(null==t)return!1;t.removeAll();delete r.tags[e];return!0};r.removeAll=function(){for(var e in r.tags)r.tags[e].removeAll();r.tags={}};r.getInstance=function(e){e=r.tags[e];return null==e?null:e.get()};r.setInstance=function(e,t){var n=r.tags[e];return null==n?null:n.set(t)};r.prototype={src:null,length:0,available:0,tags:null,init:function(e){this.src=e;this.tags=[]},add:function(e){this.tags.push(e);this.length++;this.available++},removeAll:function(){for(;this.length--;)delete this.tags[this.length];this.tags=this.src=null},get:function(){if(0==this.tags.length)return null;this.available=this.tags.length;var e=this.tags.pop();null==e.parentNode&&document.body.appendChild(e);return e},set:function(e){-1==this.tags.indexOf(e)&&this.tags.push(e);this.available=this.tags.length},toString:function(){return"[HTMLAudioPlugin TagPool]"}}})();this.createjs=this.createjs||{};(function(){var e=function(){this.init()};e.prototype={};var t=e.prototype;e.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;t.loaded=!1;t.canceled=!1;t.progress=0;t._item=null;t._basePath=null;t.onProgress=null;t.onLoadStart=null;t.onComplete=null;t.onError=null;t.addEventListener=null;t.removeEventListener=null;t.removeAllEventListeners=null;t.dispatchEvent=null;t.hasEventListener=null;t._listeners=null;createjs.EventDispatcher.initialize(t);t.getItem=function(){return this._item};t.init=function(){};t.load=function(){};t.close=function(){};t._sendLoadStart=function(){this._isCanceled()||(this.onLoadStart&&this.onLoadStart({target:this}),this.dispatchEvent("loadStart"),this.dispatchEvent("loadstart"))};t._sendProgress=function(e){if(!this._isCanceled()){var t=null;if("number"==typeof e)this.progress=e,t={loaded:this.progress,total:1};else if(t=e,this.progress=e.loaded/e.total,isNaN(this.progress)||Infinity==this.progress)this.progress=0;t.target=this;t.type="progress";t.progress=this.progress;this.onProgress&&this.onProgress(t);this.dispatchEvent(t)}};t._sendComplete=function(){this._isCanceled()||(this.onComplete&&this.onComplete({target:this}),this.dispatchEvent("complete"))};t._sendError=function(e){this._isCanceled()||(null==e&&(e={}),e.target=this,e.type="error",this.onError&&this.onError(e),this.dispatchEvent(e))};t._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1};t._parseURI=function(t){return t?t.match(e.FILE_PATTERN):null};t._formatQueryString=function(e,t){if(null==e)throw Error("You must specify data.");var n=[],r;for(r in e)n.push(r+"="+escape(e[r]));t&&(n=n.concat(t));return n.join("&")};t.buildPath=function(e,t,n){if(null!=t){var r=this._parseURI(e);if(null==r[1]||""==r[1])e=t+e}if(null==n)return e;t=[];r=e.indexOf("?");if(-1!=r){var i=e.slice(r+1);t=t.concat(i.split("&"))}return-1!=r?e.slice(0,r)+"?"+this._formatQueryString(n,t):e+"?"+this._formatQueryString(n,t)};t.toString=function(){return"[PreloadJS AbstractLoader]"};createjs.AbstractLoader=e})();this.createjs=this.createjs||{};(function(){var e=function(e,t){this.init(e,t)},t=e.prototype=new createjs.AbstractLoader;e.LOAD_TIMEOUT=8e3;e.BINARY="binary";e.CSS="css";e.IMAGE="image";e.JAVASCRIPT="javascript";e.JSON="json";e.JSONP="jsonp";e.SOUND="sound";e.SVG="svg";e.TEXT="text";e.XML="xml";e.POST="POST";e.GET="GET";t.useXHR=!0;t.stopOnError=!1;t.maintainScriptOrder=!0;t.next=null;t.onFileLoad=null;t.onFileProgress=null;t._typeCallbacks=null;t._extensionCallbacks=null;t._loadStartWasDispatched=!1;t._maxConnections=1;t._currentlyLoadingScript=null;t._currentLoads=null;t._loadQueue=null;t._loadQueueBackup=null;t._loadItemsById=null;t._loadItemsBySrc=null;t._loadedResults=null;t._loadedRawResults=null;t._numItems=0;t._numItemsLoaded=0;t._scriptOrder=null;t._loadedScripts=null;t.init=function(e,t){this._numItems=this._numItemsLoaded=0;this._loadStartWasDispatched=this._paused=!1;this._currentLoads=[];this._loadQueue=[];this._loadQueueBackup=[];this._scriptOrder=[];this._loadedScripts=[];this._loadItemsById={};this._loadItemsBySrc={};this._loadedResults={};this._loadedRawResults={};this._typeCallbacks={};this._extensionCallbacks={};this._basePath=t;this.setUseXHR(e)};t.setUseXHR=function(e){return this.useXHR=0!=e&&null!=window.XMLHttpRequest};t.removeAll=function(){this.remove()};t.remove=function(e){var t=null;!e||e instanceof Array?e&&(t=e):t=[e];e=!1;if(t){for(;t.length;){for(var n=t.pop(),r=this.getResult(n),i=this._loadQueue.length-1;0<=i;i--)if(s=this._loadQueue[i].getItem(),s.id==n||s.src==n){this._loadQueue.splice(i,1)[0].cancel();break}for(i=this._loadQueueBackup.length-1;0<=i;i--)if(s=this._loadQueueBackup[i].getItem(),s.id==n||s.src==n){this._loadQueueBackup.splice(i,1)[0].cancel();break}if(r)delete this._loadItemsById[r.id],delete this._loadItemsBySrc[r.src],this._disposeItem(r);else for(var i=this._currentLoads.length-1;0<=i;i--){var s=this._currentLoads[i].getItem();if(s.id==n||s.src==n){this._currentLoads.splice(i,1)[0].cancel();e=!0;break}}}e&&this._loadNext()}else{this.close();for(n in this._loadItemsById)this._disposeItem(this._loadItemsById[n]);this.init(this.useXHR)}};t.reset=function(){this.close();for(var e in this._loadItemsById)this._disposeItem(this._loadItemsById[e]);e=[];i=0;for(l=this._loadQueueBackup.length;i<l;i++)e.push(this._loadQueueBackup[i].getItem());this.loadManifest(e,!1)};e.isBinary=function(e){switch(e){case createjs.LoadQueue.IMAGE:case createjs.LoadQueue.BINARY:return!0;default:return!1}};t.installPlugin=function(e){if(null!=e&&null!=e.getPreloadHandlers){e=e.getPreloadHandlers();if(null!=e.types)for(var t=0,n=e.types.length;t<n;t++)this._typeCallbacks[e.types[t]]=e.callback;if(null!=e.extensions){t=0;for(n=e.extensions.length;t<n;t++)this._extensionCallbacks[e.extensions[t]]=e.callback}}};t.setMaxConnections=function(e){this._maxConnections=e;!this._paused&&0<this._loadQueue.length&&this._loadNext()};t.loadFile=function(e,t,n){null==e?this._sendError({text:"PRELOAD_NO_FILE"}):(this._addItem(e,n),!1!==t?this.setPaused(!1):this.setPaused(!0))};t.loadManifest=function(e,t,n){var r=null;if(e instanceof Array){if(0==e.length){this._sendError({text:"PRELOAD_MANIFEST_EMPTY"});return}r=e}else{if(null==e){this._sendError({text:"PRELOAD_MANIFEST_NULL"});return}r=[e]}e=0;for(var i=r.length;e<i;e++)this._addItem(r[e],n);!1!==t?this.setPaused(!1):this.setPaused(!0)};t.load=function(){this.setPaused(!1)};t.getItem=function(e){return this._loadItemsById[e]||this._loadItemsBySrc[e]};t.getResult=function(e,t){var n=this._loadItemsById[e]||this._loadItemsBySrc[e];if(null==n)return null;n=n.id;return t&&this._loadedRawResults[n]?this._loadedRawResults[n]:this._loadedResults[n]};t.setPaused=function(e){(this._paused=e)||this._loadNext()};t.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0;this._loadedScripts.length=0;this.loadStartWasDispatched=!1};t._addItem=function(e,t){var n=this._createLoadItem(e);if(null!=n){var r=this._createLoader(n,t);null!=r&&(this._loadQueue.push(r),this._loadQueueBackup.push(r),this._numItems++,this._updateProgress(),this.maintainScriptOrder&&n.type==createjs.LoadQueue.JAVASCRIPT&&r instanceof createjs.XHRLoader&&(this._scriptOrder.push(n),this._loadedScripts.push(null)))}};t._createLoadItem=function(e){var t=null;switch(typeof e){case"string":t={src:e};break;case"object":t=window.HTMLAudioElement&&e instanceof HTMLAudioElement?{tag:e,src:t.tag.src,type:createjs.LoadQueue.SOUND}:e}e=this._parseURI(t.src);null!=e&&(t.ext=e[5]);null==t.type&&(t.type=this._getTypeByExtension(t.ext));t.type==createjs.LoadQueue.JSON&&null!=t.callback&&(t.type=createjs.LoadQueue.JSONP);if(t.type==createjs.LoadQueue.JSONP&&null==t.callback)throw Error("callback is required for loading JSONP requests.");null==t.tag&&(t.tag=this._createTag(t.type));if(null==t.id||""==t.id)t.id=t.src;if(e=this._typeCallbacks[t.type]||this._extensionCallbacks[t.ext]){e=e(t.src,t.type,t.id,t.data);if(!1===e)return null;!0!==e&&(null!=e.src&&(t.src=e.src),null!=e.id&&(t.id=e.id),null!=e.tag&&e.tag.load instanceof Function&&(t.tag=e.tag),null!=e.completeHandler&&(t.completeHandler=e.completeHandler));e.type&&(t.type=e.type);e=this._parseURI(t.src);null!=e&&null!=e[5]&&(t.ext=e[5].toLowerCase())}this._loadItemsById[t.id]=t;return this._loadItemsBySrc[t.src]=t};t._createLoader=function(e,t){var n=this.useXHR;switch(e.type){case createjs.LoadQueue.JSON:case createjs.LoadQueue.XML:case createjs.LoadQueue.TEXT:n=!0;break;case createjs.LoadQueue.SOUND:case createjs.LoadQueue.JSONP:n=!1}null==t&&(t=this._basePath);return n?new createjs.XHRLoader(e,t):new createjs.TagLoader(e,t)};t._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0);this._numItems==this._numItemsLoaded&&(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load());for(var e=0,t=this._loadQueue.length;e<t&&!(this._currentLoads.length>=this._maxConnections);e++){var n=this._loadQueue[e];if(this.maintainScriptOrder&&n instanceof createjs.TagLoader&&n.getItem().type==createjs.LoadQueue.JAVASCRIPT){if(this._currentlyLoadingScript)continue;this._currentlyLoadingScript=!0}this._loadQueue.splice(e,1);e--;t--;this._loadItem(n)}}};t._loadItem=function(e){e.addEventListener("progress",createjs.proxy(this._handleProgress,this));e.addEventListener("complete",createjs.proxy(this._handleFileComplete,this));e.addEventListener("error",createjs.proxy(this._handleFileError,this));this._currentLoads.push(e);this._sendFileStart(e.getItem());e.load()};t._handleFileError=function(e){var t=e.target;this._numItemsLoaded++;this._updateProgress();e={item:t.getItem()};this._sendError(e);this.stopOnError||(this._removeLoadItem(t),this._loadNext())};t._handleFileComplete=function(e){e=e.target;var t=e.getItem();this._loadedResults[t.id]=e.getResult();e instanceof createjs.XHRLoader&&(this._loadedRawResults[t.id]=e.getResult(!0));this._removeLoadItem(e);if(this.maintainScriptOrder&&t.type==createjs.LoadQueue.JAVASCRIPT){if(!(e instanceof createjs.TagLoader)){this._loadedScripts[this._scriptOrder.indexOf(t)]=t;this._checkScriptLoadOrder(e);return}this._currentlyLoadingScript=!1}this._processFinishedLoad(t,e)};t._processFinishedLoad=function(e,t){this._numItemsLoaded++;this._updateProgress();this._sendFileComplete(e,t);this._loadNext()};t._checkScriptLoadOrder=function(){for(var e=this._loadedScripts.length,t=0;t<e;t++){var n=this._loadedScripts[t];if(null===n)break;!0!==n&&(this._processFinishedLoad(n),this._loadedScripts[t]=!0,t--,e--)}};t._removeLoadItem=function(e){for(var t=this._currentLoads.length,n=0;n<t;n++)if(this._currentLoads[n]==e){this._currentLoads.splice(n,1);break}};t._handleProgress=function(e){e=e.target;this._sendFileProgress(e.getItem(),e.progress);this._updateProgress()};t._updateProgress=function(){var e=this._numItemsLoaded/this._numItems,t=this._numItems-this._numItemsLoaded;if(0<t){for(var n=0,r=0,i=this._currentLoads.length;r<i;r++)n+=this._currentLoads[r].progress;e+=n/t*(t/this._numItems)}this._sendProgress(e)};t._disposeItem=function(e){delete this._loadedResults[e.id];delete this._loadedRawResults[e.id];delete this._loadItemsById[e.id];delete this._loadItemsBySrc[e.src]};t._createTag=function(e){var t=null;switch(e){case createjs.LoadQueue.IMAGE:return document.createElement("img");case createjs.LoadQueue.SOUND:return t=document.createElement("audio"),t.autoplay=!1,t;case createjs.LoadQueue.JSONP:case createjs.LoadQueue.JAVASCRIPT:return t=document.createElement("script"),t.type="text/javascript",t;case createjs.LoadQueue.CSS:return t=this.useXHR?document.createElement("style"):document.createElement("link"),t.rel="stylesheet",t.type="text/css",t;case createjs.LoadQueue.SVG:return this.useXHR?t=document.createElement("svg"):(t=document.createElement("object"),t.type="image/svg+xml"),t}return null};t._getTypeByExtension=function(e){switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.LoadQueue.IMAGE;case"ogg":case"mp3":case"wav":return createjs.LoadQueue.SOUND;case"json":return createjs.LoadQueue.JSON;case"xml":return createjs.LoadQueue.XML;case"css":return createjs.LoadQueue.CSS;case"js":return createjs.LoadQueue.JAVASCRIPT;case"svg":return createjs.LoadQueue.SVG;default:return createjs.LoadQueue.TEXT}};t._sendFileProgress=function(e,t){if(this._isCanceled())this._cleanUp();else{var n={target:this,type:"fileprogress",progress:t,loaded:t,total:1,item:e};this.onFileProgress&&this.onFileProgress(n);this.dispatchEvent(n)}};t._sendFileComplete=function(e,t){if(!this._isCanceled()){var n={target:this,type:"fileload",loader:t,item:e,result:this._loadedResults[e.id],rawResult:this._loadedRawResults[e.id]};e.completeHandler&&e.completeHandler(n);this.onFileLoad&&this.onFileLoad(n);this.dispatchEvent(n)}};t._sendFileStart=function(e){this.dispatchEvent({target:this,type:"filestart",item:e})};t.toString=function(){return"[PreloadJS LoadQueue]"};e.proxy=function(e,t){return function(){return e.apply(t,arguments)}};createjs.LoadQueue=e;createjs.proxy||(createjs.proxy=function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(n))}});var n=function(){};n.init=function(){var e=navigator.userAgent;n.isFirefox=-1<e.indexOf("Firefox");n.isOpera=null!=window.opera;n.isChrome=-1<e.indexOf("Chrome");n.isIOS=-1<e.indexOf("iPod")||-1<e.indexOf("iPhone")||-1<e.indexOf("iPad")};n.init();createjs.LoadQueue.BrowserDetect=n;Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;1<arguments.length&&(r=Number(arguments[1]),r!=r?r=0:0!=r&&Infinity!=r&&-Infinity!=r&&(r=(0<r||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;for(r=0<=r?r:Math.max(n-Math.abs(r),0);r<n;r++)if(r in t&&t[r]===e)return r;return-1})})();this.createjs=this.createjs||{};(function(){var e=function(e,t){this.init(e,t)},t=e.prototype=new createjs.AbstractLoader;t._loadTimeout=null;t._tagCompleteProxy=null;t._isAudio=!1;t._tag=null;t._jsonResult=null;t.init=function(e,t){this._item=e;this._basePath=t;this._tag=e.tag;this._isAudio=window.HTMLAudioElement&&e.tag instanceof HTMLAudioElement;this._tagCompleteProxy=createjs.proxy(this._handleLoad,this)};t.getResult=function(){return this._item.type==createjs.LoadQueue.JSONP?this._jsonResult:this._tag};t.cancel=function(){this.canceled=!0;this._clean();this.getItem()};t.load=function(){var e=this._item,t=this._tag;clearTimeout(this._loadTimeout);this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),createjs.LoadQueue.LOAD_TIMEOUT);this._isAudio&&(t.src=null,t.preload="auto");t.onerror=createjs.proxy(this._handleError,this);this._isAudio?(t.onstalled=createjs.proxy(this._handleStalled,this),t.addEventListener("canplaythrough",this._tagCompleteProxy,!1)):(t.onload=createjs.proxy(this._handleLoad,this),t.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this));var n=this.buildPath(e.src,this._basePath,e.values);switch(e.type){case createjs.LoadQueue.CSS:t.href=n;break;case createjs.LoadQueue.SVG:t.data=n;break;default:t.src=n}if(e.type==createjs.LoadQueue.JSONP){if(null==e.callback)throw Error("callback is required for loading JSONP requests.");if(null!=window[e.callback])throw Error('JSONP callback "'+e.callback+'" already exists on window. You need to specify a different callback. Or re-name the current one.');window[e.callback]=createjs.proxy(this._handleJSONPLoad,this)}if(e.type==createjs.LoadQueue.SVG||e.type==createjs.LoadQueue.JSONP||e.type==createjs.LoadQueue.JSON||e.type==createjs.LoadQueue.JAVASCRIPT||e.type==createjs.LoadQueue.CSS)this._startTagVisibility=t.style.visibility,t.style.visibility="hidden",(document.body||document.getElementsByTagName("body")[0]).appendChild(t);null!=t.load&&t.load()};t._handleJSONPLoad=function(e){this._jsonResult=e};t._handleTimeout=function(){this._clean();this._sendError({reason:"PRELOAD_TIMEOUT"})};t._handleStalled=function(){};t._handleError=function(){this._clean();this._sendError()};t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this.getItem().tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleLoad()};t._handleLoad=function(){if(!this._isCanceled()){var e=this.getItem(),t=e.tag;if(!(this.loaded||this.isAudio&&4!==t.readyState)){this.loaded=!0;switch(e.type){case createjs.LoadQueue.SVG:case createjs.LoadQueue.JSONP:t.style.visibility=this._startTagVisibility,(document.body||document.getElementsByTagName("body")[0]).removeChild(t)}this._clean();this._sendComplete()}}};t._clean=function(){clearTimeout(this._loadTimeout);var e=this.getItem().tag;e.onload=null;e.removeEventListener&&e.removeEventListener("canplaythrough",this._tagCompleteProxy,!1);e.onstalled=null;e.onprogress=null;e.onerror=null;e.parentNode&&e.parentNode.removeChild(e);e=this.getItem();e.type==createjs.LoadQueue.JSONP&&(window[e.callback]=null)};t.toString=function(){return"[PreloadJS TagLoader]"};createjs.TagLoader=e})();this.createjs=this.createjs||{};(function(){var e=function(e,t){this.init(e,t)},t=e.prototype=new createjs.AbstractLoader;t._request=null;t._loadTimeout=null;t._xhrLevel=1;t._response=null;t._rawResponse=null;t.init=function(e,t){this._item=e;this._basePath=t;this._createXHR(e)};t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response};t.cancel=function(){this.canceled=!0;this._clean();this._request.abort()};t.load=function(){if(null==this._request)this._handleError();else{this._request.onloadstart=createjs.proxy(this._handleLoadStart,this);this._request.onprogress=createjs.proxy(this._handleProgress,this);this._request.onabort=createjs.proxy(this._handleAbort,this);this._request.onerror=createjs.proxy(this._handleError,this);this._request.ontimeout=createjs.proxy(this._handleTimeout,this);1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),createjs.LoadQueue.LOAD_TIMEOUT));this._request.onload=createjs.proxy(this._handleLoad,this);this._request.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);try{!this._item.values||this._item.method==createjs.LoadQueue.GET?this._request.send():this._item.method==createjs.LoadQueue.POST&&this._request.send(this._formatQueryString(this._item.values))}catch(e){this._sendError({source:e})}}};t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null};t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null};t._handleProgress=function(e){0<e.loaded&&0==e.total||this._sendProgress({loaded:e.loaded,total:e.total})};t._handleLoadStart=function(){clearTimeout(this._loadTimeout);this._sendLoadStart()};t._handleAbort=function(){this._clean();this._sendError()};t._handleError=function(){this._clean();this._sendError()};t._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()};t._handleLoad=function(){this.loaded||(this.loaded=!0,this._checkError()?(this._response=this._getResponse(),this._clean(),this._generateTag()&&this._sendComplete()):this._handleError())};t._handleTimeout=function(){this._clean();this._sendError({reason:"PRELOAD_TIMEOUT"})};t._checkError=function(){switch(parseInt(this._request.status)){case 404:case 0:return!1}return!0};t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(e){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null};t._createXHR=function(e){var t=document.createElement("a");t.href=this.buildPath(e.src,this._basePath);var n=document.createElement("a");n.href=location.href;t=""!=t.hostname&&(t.port!=n.port||t.protocol!=n.protocol||t.hostname!=n.hostname);n=null;if(t&&window.XDomainRequest)n=new XDomainRequest;else if(window.XMLHttpRequest)n=new XMLHttpRequest;else try{n=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(r){try{n=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(i){try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(s){return!1}}}e.type==createjs.LoadQueue.TEXT&&n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined");this._xhrLevel="string"==typeof n.responseType?2:1;var o=null,o=e.method==createjs.LoadQueue.GET?this.buildPath(e.src,this._basePath,e.values):this.buildPath(e.src,this._basePath);n.open(e.method||createjs.LoadQueue.GET,o,!0);t&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&n.setRequestHeader("Origin",location.origin);e.values&&e.method==createjs.LoadQueue.POST&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");createjs.LoadQueue.isBinary(e.type)&&(n.responseType="arraybuffer");this._request=n;return!0};t._clean=function(){clearTimeout(this._loadTimeout);var e=this._request;e.onloadstart=null;e.onprogress=null;e.onabort=null;e.onerror=null;e.onload=null;e.ontimeout=null;e.onloadend=null;e.onreadystatechange=null};t._generateTag=function(){var e=this._item.tag;switch(this._item.type){case createjs.LoadQueue.IMAGE:return e.onload=createjs.proxy(this._handleTagReady,this),e.src=this.buildPath(this._item.src,this._basePath,this._item.values),this._rawResponse=this._response,this._response=e,!1;case createjs.LoadQueue.JAVASCRIPT:e=document.createElement("script");this._rawResponse=e.text=this._response;this._response=e;break;case createjs.LoadQueue.CSS:document.getElementsByTagName("head")[0].appendChild(e);if(e.styleSheet)e.styleSheet.cssText=this._response;else{var t=document.createTextNode(this._response);e.appendChild(t)}this._rawResponse=this._response;this._response=e;break;case createjs.LoadQueue.XML:this._response=t=this._parseXML(this._response,"text/xml");break;case createjs.LoadQueue.SVG:t=this._parseXML(this._response,"image/svg+xml");this._rawResponse=this._response;null!=t.documentElement?(e.appendChild(t.documentElement),this._response=e):this._response=t;break;case createjs.LoadQueue.JSON:e={};try{e=JSON.parse(this._response)}catch(n){e=n}this._rawResponse=this._response;this._response=e}return!0};t._parseXML=function(e,t){var n=null;window.DOMParser?n=(new DOMParser).parseFromString(e,t):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(e));return n};t._handleTagReady=function(){this._sendComplete()};t.toString=function(){return"[PreloadJS XHRLoader]"};createjs.XHRLoader=e})();"object"!=typeof JSON&&(JSON={});(function(){function c(e){return 10>e?"0"+e:e}function a(t){d.lastIndex=0;return d.test(t)?'"'+t.replace(d,function(t){var n=e[t];return"string"==typeof n?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function b(e,t){var n,r,i,s,o=j,u,l=t[e];l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e));"function"==typeof h&&(l=h.call(t,e,l));switch(typeof l){case"string":return a(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";j+=f;u=[];if("[object Array]"===Object.prototype.toString.apply(l)){s=l.length;for(n=0;n<s;n+=1)u[n]=b(n,l)||"null";i=0===u.length?"[]":j?"[\n"+j+u.join(",\n"+j)+"\n"+o+"]":"["+u.join(",")+"]";j=o;return i}if(h&&"object"==typeof h){s=h.length;for(n=0;n<s;n+=1)"string"==typeof h[n]&&(r=h[n],(i=b(r,l))&&u.push(a(r)+(j?": ":":")+i))}else for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(i=b(r,l))&&u.push(a(r)+(j?": ":":")+i);i=0===u.length?"{}":j?"{\n"+j+u.join(",\n"+j)+"\n"+o+"}":"{"+u.join(",")+"}";j=o;return i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,f,e={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;f=j="";if("number"==typeof n)for(r=0;r<n;r+=1)f+=" ";else"string"==typeof n&&(f=n);if(!(h=t)||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return b("",{"":e});throw Error("JSON.stringify")});"function"!=typeof JSON.parse&&(JSON.parse=function(a,b){function c(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=c(i,n),void 0!==r?i[n]=r:delete i[n]);return b.call(e,t,i)}var d;a=String(a);g.lastIndex=0;g.test(a)&&(a=a.replace(g,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"==typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse")})})();var Game=Game||{currentMenu:0,currentScene:{},currentPhase:0,cursor:{},menus:[],scenes:[],addScene:function(e){Game.scenes.push(e)},showPrompt:function(){console.log(Game.currentScene.phases[Game.currentPhase].prompt)},run:function(){}};Game.controls={choose:function(){Game.currentScene.phases[Game.currentPhase].onChoose()},cancel:function(){Game.currentScene.phases[Game.currentPhase].onCancel()},start:function(){Game.currentScene.phases[Game.currentPhase].onStart()},select:function(){Game.currentScene.phases[Game.currentPhase].onSelect()},up:function(){Game.currentScene.phases[Game.currentPhase].onUp()},right:function(){Game.currentScene.phases[Game.currentPhase].onRight()},down:function(){Game.currentScene.phases[Game.currentPhase].onDown()},left:function(){Game.currentScene.phases[Game.currentPhase].onLeft()}};Game.controls.connectButtons=function(){var e=document.getElementById("control-a");e.addEventListener("click",function(e){Game.controls.choose()},!1);var t=document.getElementById("control-b");t.addEventListener("click",function(e){Game.controls.cancel()},!1);var n=document.getElementById("meta-start");n.addEventListener("click",function(e){Game.controls.start()},!1);var r=document.getElementById("meta-select");r.addEventListener("click",function(e){Game.controls.select()},!1);var i=document.getElementById("d-up");i.addEventListener("click",function(e){Game.controls.up()},!1);var s=document.getElementById("d-right");s.addEventListener("click",function(e){Game.controls.right()},!1);var o=document.getElementById("d-down");o.addEventListener("click",function(e){Game.controls.down()},!1);var u=document.getElementById("d-left");u.addEventListener("click",function(e){Game.controls.left()},!1);window.addEventListener("keydown",function(e){switch(e.keyCode){case 13:case 32:Game.controls.choose();break;case 8:case 16:Game.controls.cancel();break;case 17:case 36:Game.controls.start();break;case 9:case 18:Game.controls.select();break;case 104:case 38:case 87:Game.controls.up();break;case 102:case 39:case 68:Game.controls.right();break;case 98:case 40:case 83:Game.controls.down();break;case 100:case 37:case 65:Game.controls.left()}},!1)};Game.Menu=function(){this.grid=[]};Game.Menu.prototype={setGrid:function(){this.grid=[]}};Game.Scene=function(){this.phases=[]};Game.Scene.prototype={start:function(){Game.currentScene=this;Game.currentPhase=0;this.phases[Game.currentPhase].start()},addPhase:function(e){this.phases.push(e)}};Game.Phase=function(){this.options=[]};Game.Phase.prototype={addOptions:function(e){var t=e.length;for(i=0;i<t;i++)this.options.push(e[i])},nextPhase:function(e){Game.currentPhase=e},onChoose:function(){console.log("Choose")},onCancel:function(){console.log("Cancel")},onStart:function(){console.log("Start")},onSelect:function(){console.log("Select")},onUp:function(){console.log("Up")},onRight:function(){console.log("Right")},onDown:function(){console.log("Down")},onLeft:function(){console.log("Left")},showOptions:function(){var e=this.options.length;for(i=0;i<e;i++)console.log(this.options[i])},start:function(){console.log("phase Started")}};var intro=new Game.Scene,phase01=new Game.Phase;options=["New Game","Continue"];phase01.addOptions(options);phase01.start=function(){this.showOptions()};phase01.onStart=function(){console.log("Off to meet Professor Oak!")};intro.addPhase(phase01);Game.addScene(intro);Game.cursor={x:0,y:0,getLocation:function(){return[this.x,this.y]},moveUp:function(){this.y-1},moveRight:function(){this.x+1},moveDown:function(){this.y+1},moveLeft:function(){this.x-1}};document.body.onload=function(){Game.controls.connectButtons();startGame()};